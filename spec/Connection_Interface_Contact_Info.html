<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd" "">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
 <head>
  <title>Conn.I.ContactInfo &mdash; Telepathy D-Bus Interface Specification</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="style.css" type="text/css"/>
  <link rel="shortcut icon" type="image/png" media="all" href="favicon.png" />
  <script src="jquery.min.js"></script>
  <script src="magic.js"></script>
 </head>
 <body>
  <div class="header">
  <h1>Interface <abbr title='org.freedesktop.Telepathy.Connection.Interface.ContactInfo'>Connection.Interface.ContactInfo</abbr></h1>
   <a href="index.html">Interface Index</a>
   (<a href="interfaces.html">Compact</a>)
   | <a href="#summary">Summary</a>
   
    | <a href="#description">Description</a> 
    | <a href="#methods">Methods</a> 
    | <a href="#signals">Signals</a> 
    | <a href="#properties">Properties</a> 
    | <a href="#contact-attributes">Contact Attributes</a> 
   
    | <a href="#types">Types</a> 
  </div>
  <div class="main">

    
    <div class="summary">
     <a name="summary"></a>
     
     
     <h3>Methods</h3>
     <table class="summary">
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_Info.html#Method:GetContactInfo">GetContactInfo</a></td>
       <td>(au: Contacts)</td>
       <td>&#8594;</td>
       <td>a{ua(sasas)}: ContactInfo</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_Info.html#Method:RefreshContactInfo">RefreshContactInfo</a></td>
       <td>(au: Contacts)</td>
       <td>&#8594;</td>
       <td>nothing</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_Info.html#Method:RequestContactInfo">RequestContactInfo</a></td>
       <td>(u: Contact)</td>
       <td>&#8594;</td>
       <td>a(sasas): Contact_Info</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_Info.html#Method:SetContactInfo">SetContactInfo</a></td>
       <td>(a(sasas): ContactInfo)</td>
       <td>&#8594;</td>
       <td>nothing</td>
       <td>
        
       </td>
      </tr>
      
     </table>
     

     
     <h3>Signals</h3>
     <table class="summary">
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_Info.html#Signal:ContactInfoChanged">ContactInfoChanged</a></td>
       <td>(u: Contact, a(sasas): ContactInfo)</td>
       <td>
        
       </td>
      </tr>
      
     </table>
    

     
     <h3>Properties</h3>
     <table class="summary">
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_Info.html#Property:ContactInfoFlags">ContactInfoFlags</a></td>
       <td>
        u
        
          (<a href="Connection_Interface_Contact_Info.html#Flags:Contact_Info_Flags" title="Flags Contact_Info_Flags">
              Contact_Info_Flags</a>)
        
       </td>
       <td>Read only</td>
       <td></td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_Info.html#Property:SupportedFields">SupportedFields</a></td>
       <td>
        a(sasuu)
        
          (<a href="Connection_Interface_Contact_Info.html#Struct:Field_Spec" title="Array of Struct Field_Spec">
              Field_Specs</a>)
        
       </td>
       <td>Read only</td>
       <td></td>
       <td>
        
       </td>
      </tr>
      
    </table>
    

     
     <h3>Contact Attributes</h3>
     <table class="summary">
      
       <tr class="contact-attribute">
       <td><a href="Connection_Interface_Contact_Info.html#Contact-Attribute:info">org.freedesktop.Telepathy.Connection.Interface.ContactInfo/info</a></td>
       <td>
        a(sasas)
        
        (<a href="Connection_Interface_Contact_Info.html#Struct:Contact_Info_Field" title="Array of Struct Contact_Info_Field">
            Contact_Info_Field_List</a>)
        
       </td>
      </tr>
      
    </table>
    

     

     
     <h3>Types</h3>
     <table class="summary">
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_Info.html#Simple-Type:VCard_Field">VCard_Field</a></td>
       <td>Simple Type</td>
       <td>s</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_Info.html#Simple-Type:VCard_Type_Parameter">VCard_Type_Parameter</a></td>
       <td>Simple Type</td>
       <td>s</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_Info.html#Flags:Contact_Info_Flags">Contact_Info_Flags</a></td>
       <td>Flags</td>
       <td>u</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_Info.html#Flags:Contact_Info_Field_Flags">Contact_Info_Field_Flags</a></td>
       <td>Flags</td>
       <td>u</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_Info.html#Mapping:Contact_Info_Map">Contact_Info_Map</a></td>
       <td>Mapping</td>
       <td>a{ua(sasas)}</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_Info.html#Struct:Contact_Info_Field">Contact_Info_Field</a></td>
       <td>Struct</td>
       <td>(sasas)</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_Info.html#Struct:Field_Spec">Field_Spec</a></td>
       <td>Struct</td>
       <td>(sasuu)</td>
       <td>
        
       </td>
      </tr>
      
     </table>
    
   </div>
   

   
   <div class="annotation added"><span class="version">Added in 0.19.4. </span>(as stable API)</div>
   
   

   
   <div class="requires">
    Objects implementing this interface must also implement:
    <ul>
    
    
     <li><a href="Connection.html" title="Interface org.freedesktop.Telepathy.Connection">org.freedesktop.Telepathy.Connection</a></li>
    
    </ul>
   </div>
   

   
    <a name="description"></a>
    <h3>Description</h3>
    <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
      <p>An interface for requesting information about a contact on a given
        connection. Information is represented as a list of
        <a href="Connection_Interface_Contact_Info.html#Struct:Contact_Info_Field">Contact_Info_Field</a>s forming a
        structured representation of a vCard (as defined by RFC 2426), using
        field names and semantics defined therein.</p>

      <p>On some protocols, information about your contacts is pushed to you,
        with change notification; on others, like XMPP, the client must
        explicitly request the avatar, and has no way to tell whether it has
        changed without retrieving it in its entirety. This distinction is
        exposed by <a href="Connection_Interface_Contact_Info.html#Property:ContactInfoFlags" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactInfo.ContactInfoFlags">ContactInfoFlags</a> containing
        the Push flag.</p>

      <p>On protocols with the Push flag set, UIs can connect to
        <a href="Connection_Interface_Contact_Info.html#Signal:ContactInfoChanged" title="Signal org.freedesktop.Telepathy.Connection.Interface.ContactInfo.ContactInfoChanged">ContactInfoChanged</a>, call
        <a href="Connection_Interface_Contact_Info.html#Method:GetContactInfo" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactInfo.GetContactInfo">GetContactInfo</a> once at login for the set
        of contacts they are interested in, and then be sure they will receive
        the latest contact info. On protocols like XMPP, clients can do the
        same, but will receive (at most) opportunistic updates if the info is
        retrieved for other reasons. Clients may call
        <a href="Connection_Interface_Contact_Info.html#Method:RequestContactInfo" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactInfo.RequestContactInfo">RequestContactInfo</a> or
        <a href="Connection_Interface_Contact_Info.html#Method:RefreshContactInfo" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactInfo.RefreshContactInfo">RefreshContactInfo</a> to force a contact's
        info to be updated, but MUST NOT do so unless this is either in
        response to direct user action, or to refresh their own cache after a
        number of days.</p>

      <div class="rationale"><h5>Rationale:</h5><div>
        <p>We don't want clients to accidentally cause a ridiculous amount of
          network traffic.</p>
      </div></div>
    </div>
   

   

   
   <div class="outset methods method">
    <a name="methods"></a>
    <h1>Methods</h1>
    
    <div class="inset method">
     <a name="Method:GetContactInfo"></a>
     <span class="permalink">(<a href="Connection_Interface_Contact_Info.html#Method:GetContactInfo">Permalink</a>)</span>
     <h2>GetContactInfo (au: Contacts) &#8594; a{ua(sasas)}: ContactInfo</h2>

     
     
     

     

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
        Contacts &mdash; au
        
          (<a href="Connection.html#Simple-Type:Contact_Handle" title="Array of Simple Type Contact_Handle">Contact_Handle_List</a>)
        
       </li>
       
       
       
       <div class="docstring">
          An array of handles representing contacts.
        </div>
      
      </ul>
     </div>
     

     
     <div class="indent">
      <h3>Returns</h3>
      <ul>
      
       <li>
        ContactInfo &mdash; a{ua(sasas)}
        
          (<a href="Connection_Interface_Contact_Info.html#Mapping:Contact_Info_Map" title="Mapping Contact_Info_Map">Contact_Info_Map</a>)
        
       </li>
       
       
       
       <div class="docstring">
          A dictionary mapping contact handles to information, whose keys are
          the subset of the requested list of handles for which information was
          cached.
        </div>
      
      </ul>
     </div>
     

     <div class="docstring">
        Request information on several contacts at once.  This SHOULD only
        return cached information, omitting handles for which no information is
        cached from the returned map.
      </div>

     
    </div>
    
    <div class="inset method">
     <a name="Method:RefreshContactInfo"></a>
     <span class="permalink">(<a href="Connection_Interface_Contact_Info.html#Method:RefreshContactInfo">Permalink</a>)</span>
     <h2>RefreshContactInfo (au: Contacts) &#8594; nothing</h2>

     
     
     

     

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
        Contacts &mdash; au
        
          (<a href="Connection.html#Simple-Type:Contact_Handle" title="Array of Simple Type Contact_Handle">Contact_Handle_List</a>)
        
       </li>
       
       
       
       <div class="docstring">
          Integer handles for contacts.
        </div>
      
      </ul>
     </div>
     

     

     <div class="docstring">
        Retrieve information for the given contact, requesting it from the
        network if an up-to-date version is not cached locally. This method
        SHOULD return immediately, emitting
        <a href="Connection_Interface_Contact_Info.html#Signal:ContactInfoChanged" title="Signal org.freedesktop.Telepathy.Connection.Interface.ContactInfo.ContactInfoChanged">ContactInfoChanged</a> when the contacts'
        updated contact information is returned.

        <div class="rationale"><h5>Rationale:</h5><div>
          This method allows a client with cached contact information to
          update its cache after a number of days.
        </div></div>
      </div>

     
     <hr/>
     <div class="indent">
      <h3>Possible Errors</h3>
      <ul>
      
       <li><a href="errors.html#Error:Disconnected" title="Error org.freedesktop.Telepathy.Error.Disconnected">Disconnected</a></li>
       
       
       
       <div class="docstring">
      The connection is not currently connected and cannot be used.
      This error may also be raised when operations are performed on a
      Connection for which
      <a href="Connection.html#Signal:StatusChanged" namespace="org.freedesktop.Telepathy.Connection" title="Signal org.freedesktop.Telepathy.Connection.StatusChanged">StatusChanged</a>
      has signalled status Disconnected for reason None.

      <div class="rationale"><h5>Rationale:</h5><div>
        The second usage corresponds to None in the
        <a href="Connection.html#Enum:Connection_Status_Reason">Connection_Status_Reason</a> enum; if a better reason
        is available, the corresponding error should be used instead.
      </div></div>
    </div>
      
       <li><a href="errors.html#Error:Invalid Handle" title="Error org.freedesktop.Telepathy.Error.InvalidHandle">Invalid Handle</a></li>
       
       
       
       <div class="docstring">
    The handle specified is unknown on this channel or connection.
    </div>
      
      </ul>
     </div>
     
    </div>
    
    <div class="inset method">
     <a name="Method:RequestContactInfo"></a>
     <span class="permalink">(<a href="Connection_Interface_Contact_Info.html#Method:RequestContactInfo">Permalink</a>)</span>
     <h2>RequestContactInfo (u: Contact) &#8594; a(sasas): Contact_Info</h2>

     
     
     

     

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
        Contact &mdash; u
        
          (<a href="Connection.html#Simple-Type:Contact_Handle" title="Simple Type Contact_Handle">Contact_Handle</a>)
        
       </li>
       
       
       
       <div class="docstring">
          An integer handle for a contact.
        </div>
      
      </ul>
     </div>
     

     
     <div class="indent">
      <h3>Returns</h3>
      <ul>
      
       <li>
        Contact_Info &mdash; a(sasas)
        
          (<a href="Connection_Interface_Contact_Info.html#Struct:Contact_Info_Field" title="Array of Struct Contact_Info_Field">Contact_Info_Field_List</a>)
        
       </li>
       
       
       
       <div class="docstring">
          Information about that contact.
        </div>
      
      </ul>
     </div>
     

     <div class="docstring">
        Retrieve information for a contact, requesting it from the network if
        it is not cached locally.

        <div class="rationale"><h5>Rationale:</h5><div>
          This method is appropriate for an explicit user request to show
          a contact's information; it allows a UI to wait for the contact
          info to be returned.
        </div></div>
      </div>

     
     <hr/>
     <div class="indent">
      <h3>Possible Errors</h3>
      <ul>
      
       <li><a href="errors.html#Error:Disconnected" title="Error org.freedesktop.Telepathy.Error.Disconnected">Disconnected</a></li>
       
       
       
       <div class="docstring">
      The connection is not currently connected and cannot be used.
      This error may also be raised when operations are performed on a
      Connection for which
      <a href="Connection.html#Signal:StatusChanged" namespace="org.freedesktop.Telepathy.Connection" title="Signal org.freedesktop.Telepathy.Connection.StatusChanged">StatusChanged</a>
      has signalled status Disconnected for reason None.

      <div class="rationale"><h5>Rationale:</h5><div>
        The second usage corresponds to None in the
        <a href="Connection.html#Enum:Connection_Status_Reason">Connection_Status_Reason</a> enum; if a better reason
        is available, the corresponding error should be used instead.
      </div></div>
    </div>
      
       <li><a href="errors.html#Error:Network Error" title="Error org.freedesktop.Telepathy.Error.NetworkError">Network Error</a></li>
       
       
       
       <div class="docstring">
    Raised when there is an error reading from or writing to the network.
    </div>
      
       <li><a href="errors.html#Error:Invalid Handle" title="Error org.freedesktop.Telepathy.Error.InvalidHandle">Invalid Handle</a></li>
       
       
       
       <div class="docstring">
    The handle specified is unknown on this channel or connection.
    </div>
      
       <li><a href="errors.html#Error:Not Available" title="Error org.freedesktop.Telepathy.Error.NotAvailable">Not Available</a></li>
       
       
       
       <div class="docstring">
            The contact's information could not be retrieved.
          </div>
      
      </ul>
     </div>
     
    </div>
    
    <div class="inset method">
     <a name="Method:SetContactInfo"></a>
     <span class="permalink">(<a href="Connection_Interface_Contact_Info.html#Method:SetContactInfo">Permalink</a>)</span>
     <h2>SetContactInfo (a(sasas): ContactInfo) &#8594; nothing</h2>

     
     
     

     

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
        ContactInfo &mdash; a(sasas)
        
          (<a href="Connection_Interface_Contact_Info.html#Struct:Contact_Info_Field" title="Array of Struct Contact_Info_Field">Contact_Info_Field_List</a>)
        
       </li>
       
       
       
       <div class="docstring">
          The new information to be set.
        </div>
      
      </ul>
     </div>
     

     

     <div class="docstring">
        Set new contact information for this connection, replacing existing
        information.  This method is only suppported if
        <a href="Connection_Interface_Contact_Info.html#Property:ContactInfoFlags" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactInfo.ContactInfoFlags">ContactInfoFlags</a> contains
        <code>Can_Set</code>, and may only be passed fields conforming to
        <a href="Connection_Interface_Contact_Info.html#Property:SupportedFields" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactInfo.SupportedFields">SupportedFields</a>.
      </div>

     
     <hr/>
     <div class="indent">
      <h3>Possible Errors</h3>
      <ul>
      
       <li><a href="errors.html#Error:Disconnected" title="Error org.freedesktop.Telepathy.Error.Disconnected">Disconnected</a></li>
       
       
       
       <div class="docstring">
      The connection is not currently connected and cannot be used.
      This error may also be raised when operations are performed on a
      Connection for which
      <a href="Connection.html#Signal:StatusChanged" namespace="org.freedesktop.Telepathy.Connection" title="Signal org.freedesktop.Telepathy.Connection.StatusChanged">StatusChanged</a>
      has signalled status Disconnected for reason None.

      <div class="rationale"><h5>Rationale:</h5><div>
        The second usage corresponds to None in the
        <a href="Connection.html#Enum:Connection_Status_Reason">Connection_Status_Reason</a> enum; if a better reason
        is available, the corresponding error should be used instead.
      </div></div>
    </div>
      
       <li><a href="errors.html#Error:Network Error" title="Error org.freedesktop.Telepathy.Error.NetworkError">Network Error</a></li>
       
       
       
       <div class="docstring">
    Raised when there is an error reading from or writing to the network.
    </div>
      
       <li><a href="errors.html#Error:Permission Denied" title="Error org.freedesktop.Telepathy.Error.PermissionDenied">Permission Denied</a></li>
       
       
       
       <div class="docstring">
    The user is not permitted to perform the requested operation.
    </div>
      
       <li><a href="errors.html#Error:Not Available" title="Error org.freedesktop.Telepathy.Error.NotAvailable">Not Available</a></li>
       
       
       
       <div class="docstring">
    Raised when the requested functionality is temporarily unavailable.
    </div>
      
       <li><a href="errors.html#Error:Not Implemented" title="Error org.freedesktop.Telepathy.Error.NotImplemented">Not Implemented</a></li>
       
       
       
       <div class="docstring">
            Setting your own information is not supported on this protocol.
          </div>
      
       <li><a href="errors.html#Error:Invalid Argument" title="Error org.freedesktop.Telepathy.Error.InvalidArgument">Invalid Argument</a></li>
       
       
       
       <div class="docstring">
            The supplied fields do not match the restrictions specified by
            <a href="Connection_Interface_Contact_Info.html#Property:SupportedFields" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactInfo.SupportedFields">SupportedFields</a>.
          </div>
      
      </ul>
     </div>
     
    </div>
    
   </div>
   

   
   <div class="outset signals signal">
    <a name="signals"></a>
    <h1>Signals</h1>
    
    <div class="inset signal">
     <a name="Signal:ContactInfoChanged"></a>
     <span class="permalink">(<a href="Connection_Interface_Contact_Info.html#Signal:ContactInfoChanged">Permalink</a>)</span>
     <h2>ContactInfoChanged (u: Contact, a(sasas): ContactInfo)</h2>

     
     
     

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
       Contact &mdash; u
       
        (<a href="Connection.html#Simple-Type:Contact_Handle" title="Simple Type Contact_Handle">Contact_Handle</a>)
       
       </li>
       
       
       
       <div class="docstring">
          An integer handle for the contact whose info has changed.
        </div>
      
       <li>
       ContactInfo &mdash; a(sasas)
       
        (<a href="Connection_Interface_Contact_Info.html#Struct:Contact_Info_Field" title="Array of Struct Contact_Info_Field">Contact_Info_Field_List</a>)
       
       </li>
       
       
       
       <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          An array of fields representing information about this contact.
        </div>
      
      </ul>
     </div>
     

     <div class="docstring">
        Emitted when a contact's information has changed or been received for
        the first time on this connection.
      </div>
    </div>
    
   </div>
   

   
   <div class="outset properties property">
    <a name="properties"></a>
    <h1>Properties</h1>
    <div>
     Accessed using the <a
       href="http://dbus.freedesktop.org/doc/dbus-specification.html#standard-interfaces-properties">org.freedesktop.DBus.Properties</a>
     interface.
    </div>
    
    <div class="inset property">
     <a name="Property:ContactInfoFlags"></a>
     <span class="permalink">(<a href="Connection_Interface_Contact_Info.html#Property:ContactInfoFlags">Permalink</a>)</span>
     <h2>
      ContactInfoFlags &mdash; u
      
        (<a href="Connection_Interface_Contact_Info.html#Flags:Contact_Info_Flags" title="Flags Contact_Info_Flags">Contact_Info_Flags</a>)
      
     </h2>
      <div class="access">Read only</div>

     

     

     
     
     

     
     
     

      

     <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>An integer representing the bitwise-OR of flags on this
          connection.</p>

        <p>This property MAY change, without change notification, at any time
          before the connection moves to status Connection_Status_Connected.
          It MUST NOT change after that point.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>Some XMPP servers, like Facebook Chat, do not allow the vCard to
            be changed (and so would not have the Can_Set flag). Whether the
            user's server is one of these cannot necessarily be detected until
            quite late in the connection process.</p>
        </div></div>

      </div>
    </div>
    
    <div class="inset property">
     <a name="Property:SupportedFields"></a>
     <span class="permalink">(<a href="Connection_Interface_Contact_Info.html#Property:SupportedFields">Permalink</a>)</span>
     <h2>
      SupportedFields &mdash; a(sasuu)
      
        (<a href="Connection_Interface_Contact_Info.html#Struct:Field_Spec" title="Array of Struct Field_Spec">Field_Specs</a>)
      
     </h2>
      <div class="access">Read only</div>

     

     

     
     
     

     
     
     

      

     <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>A list of field specifications describing the kinds of fields which may
          be passed to <a href="Connection_Interface_Contact_Info.html#Method:SetContactInfo" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactInfo.SetContactInfo">SetContactInfo</a>.  The empty
          list indicates that arbitrary vCard fields are permitted.  This
          property SHOULD be the empty list, and be ignored by clients, if
          <a href="Connection_Interface_Contact_Info.html#Property:ContactInfoFlags" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactInfo.ContactInfoFlags">ContactInfoFlags</a> does not contain the
          Can_Set flag.</p>

        <p>For example, a protocol in which arbitrary vCards were stored
          as-is would set this property to the
          empty list. A protocol whose notion of contact information is one
          each of personal phone number, mobile phone number, location, email
          address and date of birth, with no attributes allowed on each piece
          of information, would set this property to (in Python-like
          syntax):</p>

        <pre>
[
  ('tel', ['type=home'], Parameters_Exact, 1),
  ('tel', ['type=cell'], Parameters_Exact, 1),
  ('adr', [], Parameters_Exact, 1),
  ('bday', [], Parameters_Exact, 1),
  ('email', ['type=internet'], Parameters_Exact, 1),
]</pre>

        <p>A protocol which allows users to specify up to four phone numbers,
          which may be labelled as personal and/or mobile, would set this
          property to
          <code>[ ('tel', ['type=home', 'type=cell'], 0, 4), ]</code>.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>Studying existing IM protocols shows that in practice protocols
            allow either a very restricted set of fields (such as MSN, which
            seems to correspond roughly to the largest example above), or
            something mapping 1:1 to a large subset of vCard (such as XMPP's
            XEP-0054).</p>
        </div></div>

        <p>This property MAY change, without change notification, at any time
          before the connection moves to status Connection_Status_Connected.
          It MUST NOT change after that point.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>Some XMPP servers, like Google Talk, only allow a small subset of
            the &quot;vcard-temp&quot; protocol. Whether the user's server is one of
            these cannot be detected until quite late in the connection
            process.</p>
        </div></div>
      </div>
    </div>
    
   </div>
   

   
   <div class="outset contact-attributes">
    <a name="contact-attributes"></a>
    <h1>Contact Attributes</h1>
    <div>
      Attributes that a contact can have, accessed with the
      org.freedesktop.Telepathy.Connection.Interface.Contacts interface.
    </div>
    
    <div class="inset contact-attribute">
     <a name="Contact-Attribute:info"></a>
     <span class="permalink">(<a href="Connection_Interface_Contact_Info.html#Contact-Attribute:info">Permalink</a>)</span>
     <h2>
      org.freedesktop.Telepathy.Connection.Interface.ContactInfo/info &mdash; a(sasas)
      
       (<a href="Connection_Interface_Contact_Info.html#Struct:Contact_Info_Field" title="Array of Struct Contact_Info_Field">Contact_Info_Field_List</a>)
      
     </h2>
     
     
     
     <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>The same value that would be returned by
          <a href="Connection_Interface_Contact_Info.html#Method:GetContactInfo" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactInfo.GetContactInfo">GetContactInfo</a> for this contact.
          Omitted from the result if the contact's info
          is not known.</p>
      </div>
    </div>
    
   </div>
   

   

   
   <div class="outset types type">
    <a name="types"></a>
    <h1>Types</h1>
    
     <div class="inset type">
      <a name="Simple-Type:VCard_Field"></a>
      <span class="permalink">Simple Type (<a href="Connection_Interface_Contact_Info.html#Simple-Type:VCard_Field">Permalink</a>)</span>
      <h2>
       VCard_Field &mdash; s
      </h2>

      
      
      
      <div class="docstring">
        A string naming a field in a vCard, such as &quot;fn&quot; or &quot;adr&quot;. Although
        these are case-insensitive in RFC 2425, in Telepathy they MUST be
        normalized to lower case. In the terminology of RFC 2425 this is
        called a &quot;type name&quot;, and corresponds to the &quot;name&quot; production given
        in the ABNF.
      </div>
      
     </div>
    
     <div class="inset type">
      <a name="Simple-Type:VCard_Type_Parameter"></a>
      <span class="permalink">Simple Type (<a href="Connection_Interface_Contact_Info.html#Simple-Type:VCard_Type_Parameter">Permalink</a>)</span>
      <h2>
       VCard_Type_Parameter &mdash; s
      </h2>

      
      
      
      <div class="docstring">
        A type parameter as defined by RFC 2426, such as &quot;type=cell&quot; or
        &quot;language=en&quot;.
      </div>
      
     </div>
    
     <div class="inset type">
      <a name="Flags:Contact_Info_Flags"></a>
      <span class="permalink">Flags (<a href="Connection_Interface_Contact_Info.html#Flags:Contact_Info_Flags">Permalink</a>)</span>
      <h2>
       Contact_Info_Flags &mdash; u
      </h2>

      
      
      
      <div class="docstring">
        Flags defining the behaviour of contact information on this protocol.
        Some protocols provide no information on contacts without an explicit
        request; others always push information to the connection manager as
        and when it changes.
      </div>
      <ul>
<li>Can_Set (1)</li>
<div class="docstring">
          Indicates that <a href="Connection_Interface_Contact_Info.html#Method:SetContactInfo" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactInfo.SetContactInfo">SetContactInfo</a> is
          supported on this connection.
        </div><li>Push (2)</li>
<div class="docstring">
          Indicates that the protocol pushes all contacts' information to the
          connection manager without prompting. If set,
          <a href="Connection_Interface_Contact_Info.html#Signal:ContactInfoChanged" title="Signal org.freedesktop.Telepathy.Connection.Interface.ContactInfo.ContactInfoChanged">ContactInfoChanged</a> will be emitted
          whenever contacts' information changes.
        </div></ul>

     </div>
    
     <div class="inset type">
      <a name="Flags:Contact_Info_Field_Flags"></a>
      <span class="permalink">Flags (<a href="Connection_Interface_Contact_Info.html#Flags:Contact_Info_Field_Flags">Permalink</a>)</span>
      <h2>
       Contact_Info_Field_Flags &mdash; u
      </h2>

      
      
      
      <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        Flags describing the behaviour of a vCard field.
      </div>
      <ul>
<li>Parameters_Exact (1)</li>
<div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          <p>If present, exactly the parameters indicated must be set on this
            field; in the case of an empty list of parameters, this implies that
            parameters may not be used.</p>

          <p>If absent, and the list of allowed parameters is non-empty,
            any (possibly empty) subset of that list may be
            used.</p>

          <p>If absent, and the list of allowed parameters is empty,
            any parameters may be used.</p>
        </div><li>Overwritten_By_Nickname (2)</li>
<div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          <p>Indicates that this field will be overwritten when the user's alias
            is changed with <a href="Connection_Interface_Aliasing.html#Method:SetAliases" namespace="ofdT.Connection.Interface.Aliasing" title="Method org.freedesktop.Telepathy.Connection.Interface.Aliasing.SetAliases">SetAliases</a>
            or when the Account's <a href="Account.html#Property:Nickname" namespace="ofdT.Account" title="Property org.freedesktop.Telepathy.Account.Nickname">Nickname</a>
            is updated.  Clients that allow the editing of the Alias and the
            ContactInfo in the same location should hide fields with this flag.</p>
          <div class="rationale"><h5>Rationale:</h5><div>
            <p>If a client allowed the user to edit both the nickname and the
              ContactInfo field at the same time, the user could set them to two
              different values even though they map to the same property.  This
              would result in surprising behavior where the second value would
              win over the first.</p>
          </div></div>
          <p>In addition to hiding this field when editing ContactInfo together
            with the user's nickname, it is recommended that clients call
            <a href="Connection_Interface_Contact_Info.html#Method:SetContactInfo" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactInfo.SetContactInfo">SetContactInfo</a> before setting the
            user's nickname.</p>
          <div class="rationale"><h5>Rationale:</h5><div>
            <p>This ensures that if the user changes the nickname, the correct
              value will get set even if the stale nickname is mistakenly sent
              along with <a href="Connection_Interface_Contact_Info.html#Method:SetContactInfo" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactInfo.SetContactInfo">SetContactInfo</a>.</p>
          </div></div>
          <p>If used, this flag typically appears on either the 'nickname' or
            'fn' field.</p>
        </div></ul>

     </div>
    
     <div class="inset type">
      <a name="Mapping:Contact_Info_Map"></a>
      <span class="permalink">Mapping (<a href="Connection_Interface_Contact_Info.html#Mapping:Contact_Info_Map">Permalink</a>)</span>
      <h2>
       Contact_Info_Map &mdash; a{ua(sasas)}
      </h2>

      
      
      
      <div class="docstring">A dictionary whose keys are contact handles and whose
        values are contact information..</div>
      <ul>
<li>Handle &mdash; u (<a href="Connection.html#Simple-Type:Contact_Handle" title="Simple Type Contact_Handle">Contact_Handle</a>)</li>
<li>Contact_Info &mdash; a(sasas) (<a href="Connection_Interface_Contact_Info.html#Struct:Contact_Info_Field" title="Array of Struct Contact_Info_Field">Contact_Info_Field_List</a>)</li>
</ul>

     </div>
    
     <div class="inset type">
      <a name="Struct:Contact_Info_Field"></a>
      <span class="permalink">Struct (<a href="Connection_Interface_Contact_Info.html#Struct:Contact_Info_Field">Permalink</a>)</span>
      <h2>
       Contact_Info_Field &mdash; (sasas)
      </h2>

      
      
      
      <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>Represents one piece of information about a contact, as modelled by
          a single vCard field. Of the fields defined in RFC 2426, common
          examples include:</p>

        <dl>
          <dt>fn</dt>
          <dd>The contact's full name, formatted to their liking</dd>

          <dt>n</dt>
          <dd>The contact's full name, divided into five parts: family name,
            given name, additional names, honorific prefixes, and honorific
            suffixes</dd>

          <dt>org</dt>
          <dd>The contact's organisation, divided into the organization's name
            possibly followed by one or more organizational unit names.</dd>

          <dt>adr</dt>
          <dd>A street address for the contact, divided into seven components:
            post office box, extended address, street address, locality (e.g.,
            city), region (e.g., state or province), the postal code, and the
            country name.</dd>

          <dt>label</dt>
          <dd>A free-form street address for the contact, formatted as a
            single value (with embedded newlines where necessary) suitable for
            printing on an address label</dd>

          <dt>tel</dt>
          <dd>A telephone number for the contact.</dd>

          <dt>email</dt>
          <dd>An email address for the contact.</dd>
        </dl>

        <p>For example, the following vCard:</p>

        <pre>
   BEGIN:vCard
   VERSION:3.0
   FN:Wee Ninja
   N;LANGUAGE=ja:Ninja;Wee;;;-san
   ORG:Collabora, Ltd.;Management Division;Human Resources\; Company Policy Enforcement
   ADR;TYPE=WORK,POSTAL,PARCEL:;;11 Kings Parade;Cambridge;Cambridgeshire
    ;CB2 1SJ;UK
   LABEL;TYPE=WORK,POSTAL,PARCEL:11 Kings Parade\nCambridge\nCambridgeshire\nUK\nCB2 1SJ
   TEL;TYPE=VOICE,WORK:+44 1223 362967, +44 7700 900753
   EMAIL;TYPE=INTERNET,PREF:wee.ninja@collabora.co.uk
   EMAIL;TYPE=INTERNET:wee.ninja@example.com
   URL:http://www.thinkgeek.com/geektoys/plush/8823/
   NICKNAME:HR Ninja,Enforcement Ninja
   END:vCard</pre>

        <p>would be represented by (in Python-like syntax):</p>

        <pre>
[
  ('fn', [], ['Wee Ninja']),
  ('n', ['language=ja'], ['Ninja', 'Wee', '', '', '-san']),
  ('org', [], ['Collabora, Ltd.', 'Management Division',
    'Human Resources; Company Policy Enforcement']),
  ('adr', ['type=work','type=postal','type=parcel'],
   ['','','11 Kings Parade','Cambridge', 'Cambridgeshire','CB2 1SJ','UK']),
  ('label', ['type=work','type=postal','type=parcel'],
   ['''11 Kings Parade
  Cambridge
  Cambridgeshire
  UK
  CB2 1SJ''']),
  ('tel', ['type=voice','type=work'], ['+44 1223 362967']),
  ('tel', ['type=voice','type=work'], ['+44 7700 900753']),
  ('email', ['type=internet','type=pref'], ['wee.ninja@collabora.co.uk']),
  ('email', ['type=internet'], ['wee.ninja@example.com']),
  ('url', [], ['http://www.thinkgeek.com/geektoys/plush/8823/']),
  ('nickname', [], ['HR Ninja']),
  ('nickname', [], ['Enforcement Ninja'])
]</pre>
      </div>
      <ul>
<li>Field_Name &mdash; s</li>
<div class="docstring">
          The name of the field; this is the lowercased name of a vCard field.
          For example, a field representing a contact's address would be named
          &quot;adr&quot;.
        </div><li>Parameters &mdash; as</li>
<div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          <p>A list of vCard type parameters applicable to this field, with their
            values. The type parameter names, and any values that are
            case-insensitive in vCard, MUST be in lower case. For example, a
            contact's preferred home address would have parameters
            'type=home' and 'type=pref'.</p>

          <div class="rationale"><h5>Rationale:</h5><div>
            The type parameter 'type' is likely to be the most common, but
            there can be others, such as 'language=en'.
          </div></div>

          <p>Characters which are required to be escaped in vCard type
            parameters should not be escaped in this list. For instance,
            a field &quot;X-FOO;SEMICOLON=\;:bar&quot; in a vCard would become
            ('x-foo', ['semicolon=;'], ['bar']) in this interface.</p>

          <div class="rationale"><h5>Rationale:</h5><div>
            This avoids Telepathy UIs having to understand the escaping and
            unescaping rules for vCards. The type parameter name is not
            allowed (by RFC 2425) to contain an '=' character, so no ambiguity
            is introduced.
          </div></div>
        </div><li>Field_Value &mdash; as</li>
<div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          <p>For unstructured vCard fields (such as 'fn', a formatted name
            field), a single-element array containing the field's value.</p>

          <p>For structured fields (such as 'adr', an address field), an array
            corresponding to the semicolon-separated elements of the field (with
            empty strings for empty elements).</p>

          <p>A vCard field with multiple comma-separated values, such as
            'nickname', should be represented by several
            <a href="Connection_Interface_Contact_Info.html#Struct:Contact_Info_Field">Contact_Info_Field</a>s.</p>

          <p>Characters which are required to be escaped in vCard values, such as
            semi-colons and newlines, should not be escaped in this list (e.g. if
            a value contains a newline, the data passed over D-Bus should
            contain a literal newline character).</p>

          <div class="rationale"><h5>Rationale:</h5><div>
            An earlier draft of this interface split structured vCard fields
            into multiple Telepathy-level fields; for example, 'n' became
            'family-name', 'given-name', etc.  But under this representation,
            omitting empty components leads to difficulty identifying where one
            name ends and another begins.  Consider the fields ['given-name',
            'honorific-suffixes', 'family-name', 'honorific-prefixes']: does
            this represent two 'n' fields, or one with incorrect component
            ordering?
          </div></div>
        </div></ul>

     </div>
    
     <div class="inset type">
      <a name="Struct:Field_Spec"></a>
      <span class="permalink">Struct (<a href="Connection_Interface_Contact_Info.html#Struct:Field_Spec">Permalink</a>)</span>
      <h2>
       Field_Spec &mdash; (sasuu)
      </h2>

      
      
      
      <div class="docstring">A struct describing a vCard field, with parameters, that
        may be passed to <a href="Connection_Interface_Contact_Info.html#Method:SetContactInfo" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactInfo.SetContactInfo">SetContactInfo</a> on this
        Connection.</div>
      <ul>
<li>Name &mdash; s (<a href="Connection_Interface_Contact_Info.html#Simple-Type:VCard_Field" title="Simple Type VCard_Field">VCard_Field</a>)</li>
<div class="docstring">A vCard field name, such as 'tel'.</div><li>Parameters &mdash; as (<a href="Connection_Interface_Contact_Info.html#Simple-Type:VCard_Type_Parameter" title="Array of Simple Type VCard_Type_Parameter">VCard_Type_Parameter_List</a>)</li>
<div class="docstring">The set of vCard type parameters which may be set on this
          field. If this list is empty and the
          Contact_Info_Field_Flag_Parameters_Exact flag is not set, any vCard type
          parameters may be used.</div><li>Flags &mdash; u (<a href="Connection_Interface_Contact_Info.html#Flags:Contact_Info_Field_Flags" title="Flags Contact_Info_Field_Flags">Contact_Info_Field_Flags</a>)</li>
<div class="docstring">Flags describing the behaviour of this
          field.</div><li>Max &mdash; u</li>
<div class="docstring">Maximum number of instances of this field which may be
          set.  MAXUINT32 is used to indicate that there is no
          limit.</div></ul>

     </div>
    
   </div>
   

   </div>

 </body>
</html>