<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd" "">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
 <head>
  <title>Chan.T.Text &mdash; Telepathy D-Bus Interface Specification</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="style.css" type="text/css"/>
  <link rel="shortcut icon" type="image/png" media="all" href="favicon.png" />
  <script src="jquery.min.js"></script>
  <script src="magic.js"></script>
 </head>
 <body>
  <div class="header">
  <h1>Interface <abbr title='org.freedesktop.Telepathy.Channel.Type.Text'>Channel.Type.Text</abbr></h1>
   <a href="index.html">Interface Index</a>
   (<a href="interfaces.html">Compact</a>)
   | <a href="#summary">Summary</a>
   
    | <a href="#description">Description</a> 
    | <a href="#methods">Methods</a> 
    | <a href="#signals">Signals</a> 
   
   
   
    | <a href="#types">Types</a> 
  </div>
  <div class="main">

    
    <div class="summary">
     <a name="summary"></a>
     
     
     <h3>Methods</h3>
     <table class="summary">
      
       
        <tr>
       
       <td><a href="Channel_Type_Text.html#Method:AcknowledgePendingMessages">AcknowledgePendingMessages</a></td>
       <td>(au: IDs)</td>
       <td>&#8594;</td>
       <td>nothing</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr class="deprecated">
       
       <td><a href="Channel_Type_Text.html#Method:GetMessageTypes">GetMessageTypes</a></td>
       <td>()</td>
       <td>&#8594;</td>
       <td>au: Available_Types</td>
       <td>
         (deprecated) 
       </td>
      </tr>
      
       
        <tr class="deprecated">
       
       <td><a href="Channel_Type_Text.html#Method:ListPendingMessages">ListPendingMessages</a></td>
       <td>(b: Clear)</td>
       <td>&#8594;</td>
       <td>a(uuuuus): Pending_Messages</td>
       <td>
         (deprecated) 
       </td>
      </tr>
      
       
        <tr class="deprecated">
       
       <td><a href="Channel_Type_Text.html#Method:Send">Send</a></td>
       <td>(u: Type, s: Text)</td>
       <td>&#8594;</td>
       <td>nothing</td>
       <td>
         (deprecated) 
       </td>
      </tr>
      
     </table>
     

     
     <h3>Signals</h3>
     <table class="summary">
      
       
        <tr class="deprecated">
       
       <td><a href="Channel_Type_Text.html#Signal:LostMessage">LostMessage</a></td>
       <td>()</td>
       <td>
         (deprecated) 
       </td>
      </tr>
      
       
        <tr class="deprecated">
       
       <td><a href="Channel_Type_Text.html#Signal:Received">Received</a></td>
       <td>(u: ID, u: Timestamp, u: Sender, u: Type, u: Flags, s: Text)</td>
       <td>
         (deprecated) 
       </td>
      </tr>
      
       
        <tr class="deprecated">
       
       <td><a href="Channel_Type_Text.html#Signal:SendError">SendError</a></td>
       <td>(u: Error, u: Timestamp, u: Type, s: Text)</td>
       <td>
         (deprecated) 
       </td>
      </tr>
      
       
        <tr class="deprecated">
       
       <td><a href="Channel_Type_Text.html#Signal:Sent">Sent</a></td>
       <td>(u: Timestamp, u: Type, s: Text)</td>
       <td>
         (deprecated) 
       </td>
      </tr>
      
     </table>
    

     

     

     

     
     <h3>Types</h3>
     <table class="summary">
      
       
        <tr>
       
       <td><a href="Channel_Type_Text.html#Simple-Type:Message_ID">Message_ID</a></td>
       <td>Simple Type</td>
       <td>u</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Channel_Type_Text.html#Enum:Channel_Text_Send_Error">Channel_Text_Send_Error</a></td>
       <td>Enum</td>
       <td>u</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Channel_Type_Text.html#Enum:Channel_Text_Message_Type">Channel_Text_Message_Type</a></td>
       <td>Enum</td>
       <td>u</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr class="deprecated">
       
       <td><a href="Channel_Type_Text.html#Flags:Channel_Text_Message_Flags">Channel_Text_Message_Flags</a></td>
       <td>Flags</td>
       <td>u</td>
       <td>
         (deprecated) 
       </td>
      </tr>
      
       
        <tr class="deprecated">
       
       <td><a href="Channel_Type_Text.html#Struct:Pending_Text_Message">Pending_Text_Message</a></td>
       <td>Struct</td>
       <td>(uuuuus)</td>
       <td>
         (deprecated) 
       </td>
      </tr>
      
     </table>
    
   </div>
   

   
   
   <div class="annotation changed"><span class="version">Changed in 0.21.5. </span>The Messages interface is now
      mandatory</div>
<div class="annotation changed"><span class="version">Changed in 0.24.0. </span>This interface used to have a bunch of
      clunky <a href="Properties_Interface.html" namespace="org.freedesktop" title="Interface org.freedesktop.Telepathy.Properties">Telepathy.Properties</a>. They have
      been removed in favour of D-Bus properties on the <a href="Channel_Interface_Room.html" namespace="ofdT.Channel.Interface" title="Interface org.freedesktop.Telepathy.Channel.Interface.Room2">Room2</a>, <a href="Channel_Interface_Subject.html" namespace="ofdT.Channel.Interface" title="Interface org.freedesktop.Telepathy.Channel.Interface.Subject2">Subject2</a> and
      <a href="Channel_Interface_Room_Config.html" namespace="ofdT.Channel.Interface" title="Interface org.freedesktop.Telepathy.Channel.Interface.RoomConfig1">RoomConfig1</a>
      interfaces.</div>
   

   
   <div class="requires">
    Objects implementing this interface must also implement:
    <ul>
    
    
     <li><a href="Channel.html" title="Interface org.freedesktop.Telepathy.Channel">org.freedesktop.Telepathy.Channel</a></li>
    
     <li><a href="Channel_Interface_Messages.html" title="Interface org.freedesktop.Telepathy.Channel.Interface.Messages">org.freedesktop.Telepathy.Channel.Interface.Messages</a></li>
    
    </ul>
   </div>
   

   
    <a name="description"></a>
    <h3>Description</h3>
    <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
      <p>A channel type for sending and receiving messages. This channel type
        is primarily used for textual messages, but can also be used for
        formatted text, text with &quot;attachments&quot;, or binary messages on some
        protocols.</p>

      <p>Most of the methods and signals on this interface are deprecated,
        since they only support plain-text messages with limited metadata.
        See the mandatory <a href="Channel_Interface_Messages.html" namespace="ofdT.Channel.Interface" title="Interface org.freedesktop.Telepathy.Channel.Interface.Messages">Messages</a>
        interface for the modern equivalents.</p>

      <p>When a message is received, an identifier is assigned and a
        <a href="Channel_Interface_Messages.html#Signal:MessageReceived" namespace="ofdT.Channel.Interface.Messages" title="Signal org.freedesktop.Telepathy.Channel.Interface.Messages.MessageReceived">MessageReceived</a> signal emitted, and the message
        is placed in a pending queue represented by the
        <a href="Channel_Interface_Messages.html#Property:PendingMessages" namespace="ofdT.Channel.Interface.Messages" title="Property org.freedesktop.Telepathy.Channel.Interface.Messages.PendingMessages">PendingMessages</a> property.
        When the <a href="Client_Handler.html" namespace="org.freedesktop.Telepathy.Client" title="Interface org.freedesktop.Telepathy.Client.Handler">Handler</a>
        for a channel has handled the message by showing it to the user
        (or equivalent), it should acknowledge the receipt of that message
        using the <a href="Channel_Type_Text.html#Method:AcknowledgePendingMessages" title="Method org.freedesktop.Telepathy.Channel.Type.Text.AcknowledgePendingMessages">AcknowledgePendingMessages</a>
        method, and the message will then be removed from the pending queue.
        Numeric identifiers for received messages may be reused over the
        lifetime of the channel.</p>

      <p>Sending messages can be requested using the
        <a href="Channel_Interface_Messages.html#Method:SendMessage" namespace="ofdT.Channel.Interface.Messages" title="Method org.freedesktop.Telepathy.Channel.Interface.Messages.SendMessage">SendMessage</a> method, which will return
        successfully when the message has been submitted for sending, or
        return an error with no signal emission if there is an immediate
        failure. If a message is submitted for sending but delivery of the
        message later fails, this is indicated by a delivery report, which
        is received in the same way as an incoming message.</p>

      <p>Simple one-to-one chats (such as streams of private messages in
        XMPP or IRC) should be represented by a Text channel whose
        <a href="Channel.html#Property:TargetHandleType" namespace="ofdT.Channel" title="Property org.freedesktop.Telepathy.Channel.TargetHandleType">TargetHandleType</a>
        is <a href="Connection.html#Enum:Handle_Type" type="Handle_Type">Contact</a>. The
        expected way to request such a channel is to set the <a href="Channel.html#Property:ChannelType" namespace="ofdT.Channel" title="Property org.freedesktop.Telepathy.Channel.ChannelType">ChannelType</a>, <a href="Channel.html#Property:TargetHandleType" namespace="ofdT.Channel" title="Property org.freedesktop.Telepathy.Channel.TargetHandleType">TargetHandleType</a>,
        and either <a href="Channel.html#Property:TargetHandle" namespace="ofdT.Channel" title="Property org.freedesktop.Telepathy.Channel.TargetHandle">TargetHandle</a> or <a href="Channel.html#Property:TargetID" namespace="ofdT.Channel" title="Property org.freedesktop.Telepathy.Channel.TargetID">TargetID</a> in a call to
        <a href="Channel_Dispatcher.html#Method:EnsureChannel" namespace="ofdT.ChannelDispatcher" title="Method org.freedesktop.Telepathy.ChannelDispatcher.EnsureChannel">EnsureChannel</a>.</p>

      <p>Named chat rooms whose identity can be saved and used again later
        (IRC channels, Jabber MUCs) are expected to be represented by Text
        channels with <a href="Channel.html#Property:TargetHandleType" namespace="ofdT.Channel" title="Property org.freedesktop.Telepathy.Channel.TargetHandleType">TargetHandleType</a> =
        <a href="Connection.html#Enum:Handle_Type" type="Handle_Type">Room</a> and the
        <a href="Channel_Interface_Group.html" namespace="ofdT.Channel.Interface" title="Interface org.freedesktop.Telepathy.Channel.Interface.Group">Group</a>
        interface. In protocols where a chatroom can be used as a continuation
        of one or more one-to-one chats, these channels should also have the
        <a href="Channel_Interface_Conference.html" namespace="ofdT.Channel.Interface" title="Interface org.freedesktop.Telepathy.Channel.Interface.Conference">Conference</a>
        interface.</p>

      <p>Unnamed, transient chat rooms which cannot be rejoined by their
        unique identifier (e.g. a conversation on MSN which has, or once had,
        three or more participants) are expected to be represented by Text
        channels with <a href="Channel.html#Property:TargetHandleType" namespace="ofdT.Channel" title="Property org.freedesktop.Telepathy.Channel.TargetHandleType">TargetHandleType</a> = <a href="Connection.html#Enum:Handle_Type" type="Handle_Type">None</a> (and hence <a href="Channel.html#Property:TargetHandle" namespace="ofdT.Channel" title="Property org.freedesktop.Telepathy.Channel.TargetHandle">TargetHandle</a> = 0),
        <a href="Channel_Interface_Group.html" namespace="ofdT.Channel.Interface" title="Interface org.freedesktop.Telepathy.Channel.Interface.Group">Group</a>
        interface, and optionally the
        <a href="Channel_Interface_Conference.html" namespace="ofdT.Channel.Interface" title="Interface org.freedesktop.Telepathy.Channel.Interface.Conference">Conference</a>
        interface.</p>

      <p>On protocols like MSN where a conversation with a user is actually
        just a nameless chat room starting with exactly two members, to which
        more members can be invited, the initial one-to-one conversation
        SHOULD be represented with <a href="Channel.html#Property:TargetHandleType" namespace="ofdT.Channel" title="Property org.freedesktop.Telepathy.Channel.TargetHandleType">TargetHandleType</a> =
        <a href="Connection.html#Enum:Handle_Type" type="Handle_Type">Contact</a>. If a third
        participant
        joins or is invited, this SHOULD be represented by signalling
        a new <a href="Channel_Interface_Conference.html" namespace="ofdT.Channel.Interface" title="Interface org.freedesktop.Telepathy.Channel.Interface.Conference">Conference</a> channel
        with the one-to-one channel in its <a href="Channel_Interface_Conference.html#Property:InitialChannels" namespace="ofdT.Channel.Interface.Conference" title="Property org.freedesktop.Telepathy.Channel.Interface.Conference.InitialChannels">InitialChannels</a>, migrating the underlying protocol
        object from the one-to-one channel to the Conference channel,
        and creating a new protocol-level conversation if the one-to-one
        channel is re-used. See the Conference interface for more details.</p>

      <div class="rationale"><h5>Rationale:</h5><div>
        <p>This keeps the presentation of all one-to-one conversations
          uniform, and makes it easier to hand over a conversation from a
          1-1-specific UI to a more elaborate multi-user UI; while it does
          require UIs to understand Conference to follow the
          upgrade, UIs that will deal with XMPP need to understand Conference
          anyway.</p>
      </div></div>

      <p>If a channel of type Text is closed while it has pending messages,
        the connection manager MUST allow this, but SHOULD open a new channel
        to deliver those messages, signalling it as a new channel with the
        <a href="Connection_Interface_Requests.html#Signal:NewChannels" namespace="ofdT.Connection.Interface.Requests" title="Signal org.freedesktop.Telepathy.Connection.Interface.Requests.NewChannels">NewChannels</a>
        signal. The new channel should resemble the old channel, but have
        <a href="Channel.html#Property:Requested" namespace="ofdT.Channel" title="Property org.freedesktop.Telepathy.Channel.Requested">Requested</a> = FALSE
        regardless of its previous value; the <a href="Channel.html#Property:InitiatorHandle" namespace="ofdT.Channel" title="Property org.freedesktop.Telepathy.Channel.InitiatorHandle">InitiatorHandle</a>
        and <a href="Channel.html#Property:InitiatorID" namespace="ofdT.Channel" title="Property org.freedesktop.Telepathy.Channel.InitiatorID">InitiatorID</a>
        should correspond to the sender of one of the pending
        messages.</p>

      <div class="rationale"><h5>Rationale:</h5><div>
        <p>In effect, this turns this situation, in which a client
          is likely to lose messages:</p>

        <ul>
          <li>UI window is closed</li>
          <li>message arrives</li>
          <li>text channel emits Received</li>
          <li>UI calls Close on text channel before it has seen the
            Received signal</li>
          <li>text channel emits Closed and closes</li>
        </ul>

        <p>into something nearly equivalent to this situation, which is
          fine:</p>

        <ul>
          <li>UI window is closed</li>
          <li>UI calls Close on text channel</li>
          <li>text channel emits Closed and closes</li>
          <li>message arrives</li>
          <li>new text channel is created, connection emits NewChannels</li>
          <li>(the same or a different) UI handles it</li>
        </ul>

        <p>Requested must be set to FALSE so the replacement channel
          will be handled by something.</p>

        <p>In practice, connection managers usually implement this by keeping
          the same internal object that represented the old channel, adjusting
          its properties, signalling that it was closed, then immediately
          re-signalling it as a new channel.</p>
      </div></div>

      <p>As a result, Text channels SHOULD implement <a href="Channel_Interface_Destroyable.html" namespace="ofdT" title="Interface org.freedesktop.Telepathy.Channel.Interface.Destroyable">Channel.Interface.Destroyable</a>.</p>

      <div class="rationale"><h5>Rationale:</h5><div>
        <p>This &quot;respawning&quot; behaviour becomes problematic if there is no
          suitable handler for Text channels, or if a particular message
          repeatedly crashes the Text channel handler; a channel dispatcher
          can't just Close() the channel in these situations, because
          it will come back.</p>

        <p>In these situations, the channel dispatcher needs a last-resort
          way to destroy the channel and stop it respawning. It could either
          acknowledge the messages itself, or use the Destroyable interface;
          the Destroyable interface has the advantage that it's not
          channel-type-dependent, so the channel dispatcher only has to
          understand one extra interface, however many channel types
          eventually need a distinction between Close and Destroy.</p>
      </div></div>

      <p>Opaquely-named rejoinable chatrooms (such as Skype rooms) are
        represented using the properties in the <a href="Channel_Interface_Room.html" namespace="ofdT.Channel.Interface" title="Interface org.freedesktop.Telepathy.Channel.Interface.Room2">Room2</a>
        interface. Instructions and examples of how to request
        such channels are given in said interface's description.</p>

    </div>
   

   

   
   <div class="outset methods method">
    <a name="methods"></a>
    <h1>Methods</h1>
    
    <div class="inset method">
     <a name="Method:AcknowledgePendingMessages"></a>
     <span class="permalink">(<a href="Channel_Type_Text.html#Method:AcknowledgePendingMessages">Permalink</a>)</span>
     <h2>AcknowledgePendingMessages (au: IDs) &#8594; nothing</h2>

     
     
     

     

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
        IDs &mdash; au
        
          (<a href="Channel_Type_Text.html#Simple-Type:Message_ID" title="Array of Simple Type Message_ID">Message_ID_List</a>)
        
       </li>
       
       
       
       <div class="docstring">
          The IDs of the messages to acknowledge
        </div>
      
      </ul>
     </div>
     

     

     <div class="docstring">
        Inform the channel that you have handled messages by displaying them to
        the user (or equivalent), so they can be removed from the pending queue.
      </div>

     
     <hr/>
     <div class="indent">
      <h3>Possible Errors</h3>
      <ul>
      
       <li><a href="errors.html#Error:Invalid Argument" title="Error org.freedesktop.Telepathy.Error.InvalidArgument">Invalid Argument</a></li>
       
       
       
       <div class="docstring">
            A given message ID was not found, so no action was taken
          </div>
      
      </ul>
     </div>
     
    </div>
    
    <div class="inset method">
     <a name="Method:GetMessageTypes"></a>
     <span class="permalink">(<a href="Channel_Type_Text.html#Method:GetMessageTypes">Permalink</a>)</span>
     <h2>GetMessageTypes () &#8594; au: Available_Types</h2>

     
     
     <div class="annotation deprecated"><span class="version">Deprecated since 0.21.5. </span>Consulting
        <a href="Channel_Interface_Messages.html#Property:MessageTypes" namespace="ofdT.Channel.Interface.Messages" title="Property org.freedesktop.Telepathy.Channel.Interface.Messages.MessageTypes">MessageTypes</a> is preferred.
      </div>

     

     

     
     <div class="indent">
      <h3>Returns</h3>
      <ul>
      
       <li>
        Available_Types &mdash; au
        
          (<a href="Channel_Type_Text.html#Enum:Channel_Text_Message_Type" title="Array of Enum Channel_Text_Message_Type">Channel_Text_Message_Type_List</a>)
        
       </li>
       
       
       
       <div class="docstring">
          An array of integer message types (ChannelTextMessageType)
        </div>
      
      </ul>
     </div>
     

     <div class="docstring">
        Return an array indicating which types of message may be sent on this
        channel.
      </div>

     
    </div>
    
    <div class="inset method">
     <a name="Method:ListPendingMessages"></a>
     <span class="permalink">(<a href="Channel_Type_Text.html#Method:ListPendingMessages">Permalink</a>)</span>
     <h2>ListPendingMessages (b: Clear) &#8594; a(uuuuus): Pending_Messages</h2>

     
     
     <div class="annotation deprecated"><span class="version">Deprecated since 0.21.5. </span>Consulting
        <a href="Channel_Interface_Messages.html#Property:PendingMessages" namespace="ofdT.Channel.Interface.Messages" title="Property org.freedesktop.Telepathy.Channel.Interface.Messages.PendingMessages">PendingMessages</a> is preferred.
      </div>

     

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
        Clear &mdash; b
        
       </li>
       
       
       <div class="annotation deprecated"><span class="version">Deprecated since 0.17.3. </span>
          Setting this to true is NOT RECOMMENDED for clients that
          have some sort of persistent message storage - clients SHOULD only
          acknowledge messages after they have actually stored them, which is
          impossible if this flag is true.</div>
       <div class="docstring">
          If true, behave as if
          <a href="Channel_Type_Text.html#Method:AcknowledgePendingMessages" title="Method org.freedesktop.Telepathy.Channel.Type.Text.AcknowledgePendingMessages">AcknowledgePendingMessages</a> had also
          been called.
        </div>
      
      </ul>
     </div>
     

     
     <div class="indent">
      <h3>Returns</h3>
      <ul>
      
       <li>
        Pending_Messages &mdash; a(uuuuus)
        
          (<a href="Channel_Type_Text.html#Struct:Pending_Text_Message" title="Array of Struct Pending_Text_Message">Pending_Text_Message_List</a>)
        
       </li>
       
       
       
       <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          An array of structs representing the pending queue. Each contains:
          <ul>
            <li>a numeric identifier</li>
            <li>a Unix timestamp indicating when the message was received</li>
            <li>the contact handle for the contact who sent the message</li>
            <li>the message type, taken from ChannelTextMessageType</li>
            <li>the bitwise-OR of the message flags from ChannelTextMessageFlags</li>
            <li>the text of the message</li>
          </ul>
        </div>
      
      </ul>
     </div>
     

     <div class="docstring">
        List the messages currently in the pending queue, and optionally
        remove then all.
      </div>

     
    </div>
    
    <div class="inset method">
     <a name="Method:Send"></a>
     <span class="permalink">(<a href="Channel_Type_Text.html#Method:Send">Permalink</a>)</span>
     <h2>Send (u: Type, s: Text) &#8594; nothing</h2>

     
     
     <div class="annotation deprecated"><span class="version">Deprecated since 0.21.5. </span>The
        <a href="Channel_Interface_Messages.html#Method:SendMessage" namespace="ofdT.Channel.Interface.Messages" title="Method org.freedesktop.Telepathy.Channel.Interface.Messages.SendMessage">SendMessage</a> method is more flexible.
      </div>

     

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
        Type &mdash; u
        
          (<a href="Channel_Type_Text.html#Enum:Channel_Text_Message_Type" title="Enum Channel_Text_Message_Type">Channel_Text_Message_Type</a>)
        
       </li>
       
       
       
       <div class="docstring">
          An integer indicating the type of the message
        </div>
      
       <li>
        Text &mdash; s
        
       </li>
       
       
       
       <div class="docstring">
          The message to send
        </div>
      
      </ul>
     </div>
     

     

     <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>Request that a message be sent on this channel. When the message has
          been submitted for delivery, this method will return and the
          <a href="Channel_Type_Text.html#Signal:Sent" title="Signal org.freedesktop.Telepathy.Channel.Type.Text.Sent">Sent</a> signal will be emitted. If the
          message cannot be submitted for delivery, the method returns an error
          and no signal is emitted.</p>

        <p>This method SHOULD return before the Sent signal is
          emitted.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>When a Text channel implements the <a href="Channel_Interface_Messages.html" namespace="org.freedesktop.Telepathy.Channel.Interface" title="Interface org.freedesktop.Telepathy.Channel.Interface.Messages">Messages</a>
            interface, that &quot;SHOULD&quot; becomes a &quot;MUST&quot;.</p>
        </div></div>
      </div>

     
     <hr/>
     <div class="indent">
      <h3>Possible Errors</h3>
      <ul>
      
       <li><a href="errors.html#Error:Disconnected" title="Error org.freedesktop.Telepathy.Error.Disconnected">Disconnected</a></li>
       
       
       
       <div class="docstring">
      The connection is not currently connected and cannot be used.
      This error may also be raised when operations are performed on a
      Connection for which
      <a href="Connection.html#Signal:StatusChanged" namespace="org.freedesktop.Telepathy.Connection" title="Signal org.freedesktop.Telepathy.Connection.StatusChanged">StatusChanged</a>
      has signalled status Disconnected for reason None.

      <div class="rationale"><h5>Rationale:</h5><div>
        The second usage corresponds to None in the
        <a href="Connection.html#Enum:Connection_Status_Reason">Connection_Status_Reason</a> enum; if a better reason
        is available, the corresponding error should be used instead.
      </div></div>
    </div>
      
       <li><a href="errors.html#Error:Network Error" title="Error org.freedesktop.Telepathy.Error.NetworkError">Network Error</a></li>
       
       
       
       <div class="docstring">
    Raised when there is an error reading from or writing to the network.
    </div>
      
       <li><a href="errors.html#Error:Invalid Argument" title="Error org.freedesktop.Telepathy.Error.InvalidArgument">Invalid Argument</a></li>
       
       
       
       <div class="docstring">
    Raised when one of the provided arguments is invalid.
    </div>
      
       <li><a href="errors.html#Error:Permission Denied" title="Error org.freedesktop.Telepathy.Error.PermissionDenied">Permission Denied</a></li>
       
       
       
       <div class="docstring">
    The user is not permitted to perform the requested operation.
    </div>
      
      </ul>
     </div>
     
    </div>
    
   </div>
   

   
   <div class="outset signals signal">
    <a name="signals"></a>
    <h1>Signals</h1>
    
    <div class="inset signal">
     <a name="Signal:LostMessage"></a>
     <span class="permalink">(<a href="Channel_Type_Text.html#Signal:LostMessage">Permalink</a>)</span>
     <h2>LostMessage ()</h2>

     
     
     <div class="annotation deprecated"><span class="version">Deprecated since 0.21.5. </span>In practice, this signal
        was not emitted, and does not have useful semantics.</div>

     

     <div class="docstring">
        This signal is emitted to indicate that an incoming message was
        not able to be stored and forwarded by the connection manager
        due to lack of memory.
      </div>
    </div>
    
    <div class="inset signal">
     <a name="Signal:Received"></a>
     <span class="permalink">(<a href="Channel_Type_Text.html#Signal:Received">Permalink</a>)</span>
     <h2>Received (u: ID, u: Timestamp, u: Sender, u: Type, u: Flags, s: Text)</h2>

     
     
     <div class="annotation deprecated"><span class="version">Deprecated since 0.21.5. </span>The
        <a href="Channel_Interface_Messages.html#Signal:MessageReceived" namespace="ofdT.Channel.Interface.Messages" title="Signal org.freedesktop.Telepathy.Channel.Interface.Messages.MessageReceived">MessageReceived</a> signal is more informative.
      </div>

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
       ID &mdash; u
       
       </li>
       
       
       
       <div class="docstring">
          A numeric identifier for acknowledging the message
        </div>
      
       <li>
       Timestamp &mdash; u
       
        (<a href="generic-types.html#Simple-Type:Unix_Timestamp" title="Simple Type Unix_Timestamp">Unix_Timestamp</a>)
       
       </li>
       
       
       
       <div class="docstring">
          A Unix timestamp indicating when the message was received
        </div>
      
       <li>
       Sender &mdash; u
       
        (<a href="Connection.html#Simple-Type:Contact_Handle" title="Simple Type Contact_Handle">Contact_Handle</a>)
       
       </li>
       
       
       
       <div class="docstring">
          The handle of the contact who sent the message
        </div>
      
       <li>
       Type &mdash; u
       
        (<a href="Channel_Type_Text.html#Enum:Channel_Text_Message_Type" title="Enum Channel_Text_Message_Type">Channel_Text_Message_Type</a>)
       
       </li>
       
       
       
       <div class="docstring">
          The type of the message (normal, action, notice, etc.)
        </div>
      
       <li>
       Flags &mdash; u
       
        (<a href="Channel_Type_Text.html#Flags:Channel_Text_Message_Flags" title="Flags Channel_Text_Message_Flags">Channel_Text_Message_Flags</a>)
       
       </li>
       
       
       
       <div class="docstring">
          A bitwise OR of the message flags
        </div>
      
       <li>
       Text &mdash; s
       
       </li>
       
       
       
       <div class="docstring">
          The text of the message
        </div>
      
      </ul>
     </div>
     

     <div class="docstring">
        Signals that a message with the given id, timestamp, sender, type
        and text has been received on this channel. Applications that catch
        this signal and reliably inform the user of the message should
        acknowledge that they have dealt with the message with the
        <a href="Channel_Type_Text.html#Method:AcknowledgePendingMessages" title="Method org.freedesktop.Telepathy.Channel.Type.Text.AcknowledgePendingMessages">AcknowledgePendingMessages</a> method.
      </div>
    </div>
    
    <div class="inset signal">
     <a name="Signal:SendError"></a>
     <span class="permalink">(<a href="Channel_Type_Text.html#Signal:SendError">Permalink</a>)</span>
     <h2>SendError (u: Error, u: Timestamp, u: Type, s: Text)</h2>

     
     <div class="annotation changed"><span class="version">Changed in 0.17.3. </span>older spec versions claimed that SendError
        was emitted <em>instead of</em> Sent, rather than <em>in addition
        to</em> Sent. However, the 0.17.3+ semantics were what we'd always
        actually implemented.</div>
     <div class="annotation deprecated"><span class="version">Deprecated since 0.21.5. </span>Delivery reporting is now
        provided by the <a href="Channel_Interface_Messages.html" namespace="ofdT.Channel.Interface" title="Interface org.freedesktop.Telepathy.Channel.Interface.Messages">Messages</a> interface.
      </div>

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
       Error &mdash; u
       
        (<a href="Channel_Type_Text.html#Enum:Channel_Text_Send_Error" title="Enum Channel_Text_Send_Error">Channel_Text_Send_Error</a>)
       
       </li>
       
       
       
       <div class="docstring">
          The error that occurred
        </div>
      
       <li>
       Timestamp &mdash; u
       
        (<a href="generic-types.html#Simple-Type:Unix_Timestamp" title="Simple Type Unix_Timestamp">Unix_Timestamp</a>)
       
       </li>
       
       
       
       <div class="docstring">
          The Unix timestamp indicating when the message was sent
        </div>
      
       <li>
       Type &mdash; u
       
        (<a href="Channel_Type_Text.html#Enum:Channel_Text_Message_Type" title="Enum Channel_Text_Message_Type">Channel_Text_Message_Type</a>)
       
       </li>
       
       
       
       <div class="docstring">
          The message type
        </div>
      
       <li>
       Text &mdash; s
       
       </li>
       
       
       
       <div class="docstring">
          The text of the message
        </div>
      
      </ul>
     </div>
     

     <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>Signals that an outgoing message has failed to send. The error
          will be one of the values from ChannelTextSendError.</p>

        <p>This signal should only be emitted for messages for which
          <a href="Channel_Type_Text.html#Signal:Sent" title="Signal org.freedesktop.Telepathy.Channel.Type.Text.Sent">Sent</a> has already been emitted and
          <a href="Channel_Type_Text.html#Method:Send" title="Method org.freedesktop.Telepathy.Channel.Type.Text.Send">Send</a> has already returned success.</p>
      </div>
    </div>
    
    <div class="inset signal">
     <a name="Signal:Sent"></a>
     <span class="permalink">(<a href="Channel_Type_Text.html#Signal:Sent">Permalink</a>)</span>
     <h2>Sent (u: Timestamp, u: Type, s: Text)</h2>

     
     
     <div class="annotation deprecated"><span class="version">Deprecated since 0.21.5. </span>The
        <a href="Channel_Interface_Messages.html#Signal:MessageSent" namespace="ofdT.Channel.Interface.Messages" title="Signal org.freedesktop.Telepathy.Channel.Interface.Messages.MessageSent">MessageSent</a> signal is more informative.
      </div>

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
       Timestamp &mdash; u
       
        (<a href="generic-types.html#Simple-Type:Unix_Timestamp" title="Simple Type Unix_Timestamp">Unix_Timestamp</a>)
       
       </li>
       
       
       
       <div class="docstring">
          Unix timestamp indicating when the message was sent
        </div>
      
       <li>
       Type &mdash; u
       
        (<a href="Channel_Type_Text.html#Enum:Channel_Text_Message_Type" title="Enum Channel_Text_Message_Type">Channel_Text_Message_Type</a>)
       
       </li>
       
       
       
       <div class="docstring">
          The message type (normal, action, notice, etc) from
          ChannelTextMessageType
        </div>
      
       <li>
       Text &mdash; s
       
       </li>
       
       
       
       <div class="docstring">
          The text of the message. If the message was, or will be, altered
          during transmission, this argument SHOULD reflect what other
          contacts will receive rather than being a copy of the argument
          to <a href="Channel_Type_Text.html#Method:Send" title="Method org.freedesktop.Telepathy.Channel.Type.Text.Send">Send</a>.
        </div>
      
      </ul>
     </div>
     

     <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>Signals that a message has been submitted for sending.</p>
      </div>
    </div>
    
   </div>
   

   

   

   

   
   <div class="outset types type">
    <a name="types"></a>
    <h1>Types</h1>
    
     <div class="inset type">
      <a name="Simple-Type:Message_ID"></a>
      <span class="permalink">Simple Type (<a href="Channel_Type_Text.html#Simple-Type:Message_ID">Permalink</a>)</span>
      <h2>
       Message_ID &mdash; u
      </h2>

      
      
      
      <div class="docstring">
        A unique-per-channel identifier for an incoming message. These
        SHOULD be allocated in a way that minimizes collisions (in particular,
        message IDs SHOULD NOT be re-used until all of the 32-bit integer
        space has already been used).
      </div>
      
     </div>
    
     <div class="inset type">
      <a name="Enum:Channel_Text_Send_Error"></a>
      <span class="permalink">Enum (<a href="Channel_Type_Text.html#Enum:Channel_Text_Send_Error">Permalink</a>)</span>
      <h2>
       Channel_Text_Send_Error &mdash; u
      </h2>

      
      
      
      
      <ul>
<li>Unknown (0)</li>
<div class="docstring">
        An unknown error occurred
        </div><li>Offline (1)</li>
<div class="docstring">
        The requested contact was offline
        </div><li>Invalid_Contact (2)</li>
<div class="docstring">
        The requested contact is not valid
        </div><li>Permission_Denied (3)</li>
<div class="docstring">
        The user does not have permission to speak on this channel
        </div><li>Too_Long (4)</li>
<div class="docstring">
        The outgoing message was too long and was rejected by the server
        </div><li>Not_Implemented (5)</li>
<div class="docstring">
        The channel doesn't support sending text messages to the requested
        contact
        </div></ul>

     </div>
    
     <div class="inset type">
      <a name="Enum:Channel_Text_Message_Type"></a>
      <span class="permalink">Enum (<a href="Channel_Type_Text.html#Enum:Channel_Text_Message_Type">Permalink</a>)</span>
      <h2>
       Channel_Text_Message_Type &mdash; u
      </h2>

      
      
      
      <div class="docstring">
        The type of message.
      </div>
      <ul>
<li>Normal (0)</li>
<div class="docstring">
        An ordinary chat message. Unknown types SHOULD be treated like this.
        </div><li>Action (1)</li>
<div class="docstring">
        An action which might be presented to the user as
        &quot;* &lt;sender&gt; &lt;action&gt;&quot;, such as an IRC CTCP
        ACTION (typically selected by the &quot;/me&quot; command). For example, the
        text of the message might be &quot;drinks more coffee&quot;.
        </div><li>Notice (2)</li>
<div class="docstring">
        A one-off or automated message not necessarily expecting a reply
        </div><li>Auto_Reply (3)</li>
<div class="docstring">
        An automatically-generated reply message.
        </div><li>Delivery_Report (4)</li>
<div class="docstring">
          A delivery report. This message type MUST NOT appear unless the
          channel supports the <a href="Channel_Interface_Messages.html" namespace="org.freedesktop.Telepathy.Channel.Interface" title="Interface org.freedesktop.Telepathy.Channel.Interface.Messages">Messages</a>
          interface; see <a href="Channel_Interface_Messages.html#Mapping:Message_Part">Message_Part</a> for the format that
          delivery reports must take.
        </div></ul>

     </div>
    
     <div class="inset type">
      <a name="Flags:Channel_Text_Message_Flags"></a>
      <span class="permalink">Flags (<a href="Channel_Type_Text.html#Flags:Channel_Text_Message_Flags">Permalink</a>)</span>
      <h2>
       Channel_Text_Message_Flags &mdash; u
      </h2>

      
      
      <div class="annotation deprecated"><span class="version">Deprecated since 0.21.5. </span>The
        <a href="Channel_Interface_Messages.html" namespace="ofdT.Channel.Interface" title="Interface org.freedesktop.Telepathy.Channel.Interface.Messages">Messages</a> interface has an extensible data structure
        including separate booleans for most of these flags.
      </div>
      
      <ul>
<li>Truncated (1)</li>
<div class="docstring">
        The incoming message was truncated to a shorter length by the
        server or the connection manager.
        </div><li>Non_Text_Content (2)</li>
<div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          <p>The incoming message contained non-text content which cannot be
            represented by this interface, but has been signalled
            in the <a href="Channel_Interface_Messages.html" namespace="org.freedesktop.Telepathy.Channel.Interface" title="Interface org.freedesktop.Telepathy.Channel.Interface.Messages">Messages</a>
            interface.</p>

          <p>Connection managers SHOULD only set this flag if the non-text
            content appears to be relatively significant (exactly how
            significant is up to the implementor). The intention is that
            if this flag is set, clients using this interface SHOULD inform
            the user that part of the message was not understood.</p>
        </div><li>Scrollback (4)</li>
<div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          <p>The incoming message was part of a replay of message history.</p>

          <div class="rationale"><h5>Rationale:</h5><div>
            <p>In XMPP multi-user chat, a few past messages are replayed
              when you join a chatroom. A sufficiently capable IRC connection
              manager could also set this flag on historical messages when
              connected to a proxy like bip or irssi-proxy. The existence
              of this flag allows loggers and UIs to use better heuristics
              when eliminating duplicates (a simple implementation made
              possible by this flag would be to avoid logging scrollback
              at all).</p>
          </div></div>
        </div><li>Rescued (8)</li>
<div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          <p>The incoming message has been seen in a previous channel during
            the lifetime of the <a href="Connection.html" namespace="org.freedesktop.Telepathy" title="Interface org.freedesktop.Telepathy.Connection">Connection</a>, but
            had not been acknowledged
            when that channel closed, causing an identical channel (the
            channel in which the message now appears) to open.</p>

          <div class="rationale"><h5>Rationale:</h5><div>
            <p>This means that a logger (which should already have seen the
              message in the previous channel) is able to recognise and ignore
              these replayed messages.</p>
          </div></div>
        </div></ul>

     </div>
    
     <div class="inset type">
      <a name="Struct:Pending_Text_Message"></a>
      <span class="permalink">Struct (<a href="Channel_Type_Text.html#Struct:Pending_Text_Message">Permalink</a>)</span>
      <h2>
       Pending_Text_Message &mdash; (uuuuus)
      </h2>

      
      
      <div class="annotation deprecated"><span class="version">Deprecated since 0.21.5. </span>New APIs should use
        an array of <a href="Channel_Interface_Messages.html#Mapping:Message_Part">Message_Part</a> instead.</div>
      <div class="docstring">A struct (message ID, timestamp in seconds since
        1970-01-01 00:00 UTC, sender's handle, message type, flags, text)
        representing a pending text message, as returned by
        <a href="Channel_Type_Text.html#Method:ListPendingMessages" title="Method org.freedesktop.Telepathy.Channel.Type.Text.ListPendingMessages">ListPendingMessages</a>.  The arguments of
        the <a href="Channel_Type_Text.html#Signal:Received" title="Signal org.freedesktop.Telepathy.Channel.Type.Text.Received">Received</a> signal also match this
        struct's signature.</div>
      <ul>
<li>Identifier &mdash; u (<a href="Channel_Type_Text.html#Simple-Type:Message_ID" title="Simple Type Message_ID">Message_ID</a>)</li>
<li>Unix_Timestamp &mdash; u (<a href="generic-types.html#Simple-Type:Unix_Timestamp" title="Simple Type Unix_Timestamp">Unix_Timestamp</a>)</li>
<li>Sender &mdash; u (<a href="Connection.html#Simple-Type:Contact_Handle" title="Simple Type Contact_Handle">Contact_Handle</a>)</li>
<li>Message_Type &mdash; u (<a href="Channel_Type_Text.html#Enum:Channel_Text_Message_Type" title="Enum Channel_Text_Message_Type">Channel_Text_Message_Type</a>)</li>
<li>Flags &mdash; u (<a href="Channel_Type_Text.html#Flags:Channel_Text_Message_Flags" title="Flags Channel_Text_Message_Flags">Channel_Text_Message_Flags</a>)</li>
<li>Text &mdash; s</li>
</ul>

     </div>
    
   </div>
   

   </div>

 </body>
</html>