<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd" "">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
 <head>
  <title>Chan.T.ContactSearch &mdash; Telepathy D-Bus Interface Specification</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="style.css" type="text/css"/>
  <link rel="shortcut icon" type="image/png" media="all" href="favicon.png" />
  <script src="jquery.min.js"></script>
  <script src="magic.js"></script>
 </head>
 <body>
  <div class="header">
  <h1>Interface <abbr title='org.freedesktop.Telepathy.Channel.Type.ContactSearch'>Channel.Type.ContactSearch</abbr></h1>
   <a href="index.html">Interface Index</a>
   (<a href="interfaces.html">Compact</a>)
   | <a href="#summary">Summary</a>
   
    | <a href="#description">Description</a> 
    | <a href="#methods">Methods</a> 
    | <a href="#signals">Signals</a> 
    | <a href="#properties">Properties</a> 
   
   
    | <a href="#types">Types</a> 
  </div>
  <div class="main">

    
    <div class="summary">
     <a name="summary"></a>
     
     
     <h3>Methods</h3>
     <table class="summary">
      
       
        <tr>
       
       <td><a href="Channel_Type_Contact_Search.html#Method:Search">Search</a></td>
       <td>(a{ss}: Terms)</td>
       <td>&#8594;</td>
       <td>nothing</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Channel_Type_Contact_Search.html#Method:More">More</a></td>
       <td>()</td>
       <td>&#8594;</td>
       <td>nothing</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Channel_Type_Contact_Search.html#Method:Stop">Stop</a></td>
       <td>()</td>
       <td>&#8594;</td>
       <td>nothing</td>
       <td>
        
       </td>
      </tr>
      
     </table>
     

     
     <h3>Signals</h3>
     <table class="summary">
      
       
        <tr>
       
       <td><a href="Channel_Type_Contact_Search.html#Signal:SearchStateChanged">SearchStateChanged</a></td>
       <td>(u: State, s: Error, a{sv}: Details)</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Channel_Type_Contact_Search.html#Signal:SearchResultReceived">SearchResultReceived</a></td>
       <td>(a{sa(sasas)}: Result)</td>
       <td>
        
       </td>
      </tr>
      
     </table>
    

     
     <h3>Properties</h3>
     <table class="summary">
      
       
        <tr>
       
       <td><a href="Channel_Type_Contact_Search.html#Property:SearchState">SearchState</a></td>
       <td>
        u
        
          (<a href="Channel_Type_Contact_Search.html#Enum:Channel_Contact_Search_State" title="Enum Channel_Contact_Search_State">
              Channel_Contact_Search_State</a>)
        
       </td>
       <td>Read only</td>
       <td></td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Channel_Type_Contact_Search.html#Property:Limit">Limit</a></td>
       <td>
        u
        
       </td>
       <td>Read only</td>
       <td>Immutable, Sometimes requestable</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Channel_Type_Contact_Search.html#Property:AvailableSearchKeys">AvailableSearchKeys</a></td>
       <td>
        as
        
       </td>
       <td>Read only</td>
       <td>Immutable</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Channel_Type_Contact_Search.html#Property:Server">Server</a></td>
       <td>
        s
        
       </td>
       <td>Read only</td>
       <td>Immutable, Sometimes requestable</td>
       <td>
        
       </td>
      </tr>
      
    </table>
    

     

     

     
     <h3>Types</h3>
     <table class="summary">
      
       
        <tr>
       
       <td><a href="Channel_Type_Contact_Search.html#Simple-Type:Contact_Search_Key">Contact_Search_Key</a></td>
       <td>Simple Type</td>
       <td>s</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Channel_Type_Contact_Search.html#Enum:Channel_Contact_Search_State">Channel_Contact_Search_State</a></td>
       <td>Enum</td>
       <td>u</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Channel_Type_Contact_Search.html#Mapping:Contact_Search_Map">Contact_Search_Map</a></td>
       <td>Mapping</td>
       <td>a{ss}</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Channel_Type_Contact_Search.html#Mapping:Contact_Search_Result_Map">Contact_Search_Result_Map</a></td>
       <td>Mapping</td>
       <td>a{sa(sasas)}</td>
       <td>
        
       </td>
      </tr>
      
     </table>
    
   </div>
   

   
   <div class="annotation added"><span class="version">Added in 0.19.10. </span>
      as stable API. Changes from draft 2:
      <a href="Channel_Type_Contact_Search.html#Mapping:Contact_Search_Result_Map">Contact_Search_Result_Map</a> keys are now identifiers
      rather than handles; consequently, the values need not include
      <tt>x-telepathy-identifier</tt>.
    </div>
   
   

   
   <div class="requires">
    Objects implementing this interface must also implement:
    <ul>
    
    
     <li><a href="Channel.html" title="Interface org.freedesktop.Telepathy.Channel">org.freedesktop.Telepathy.Channel</a></li>
    
    </ul>
   </div>
   

   
    <a name="description"></a>
    <h3>Description</h3>
    <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
      <p>A channel type for searching server-stored user directories. A new
        channel should be requested by a client for each search attempt, and
        closed when the search is completed or the required result has been
        found.</p>

      <p>Connections that support contact search channels SHOULD have an entry
        in <a href="Connection_Interface_Requests.html#Property:RequestableChannelClasses" namespace="ofdT.Connection.Interface.Requests" title="Property org.freedesktop.Telepathy.Connection.Interface.Requests.RequestableChannelClasses">RequestableChannelClasses</a> with the <a href="Channel.html#Property:ChannelType" namespace="ofdT.Channel" title="Property org.freedesktop.Telepathy.Channel.ChannelType">ChannelType</a> fixed to this
        interface, and no other fixed properties. That requestable
        channel class MAY also have the Server and Limit properties in its
        list of allowed properties, depending on the protocol.</p>

      <div class="rationale"><h5>Rationale:</h5><div>
        <p>The requestable channel class would normally also have <a href="Channel.html#Property:TargetHandleType" namespace="ofdT.Channel" title="Property org.freedesktop.Telepathy.Channel.TargetHandleType">TargetHandleType</a> fixed to
          <code>None</code>, but the initial implementation of ContactSearch
          (in telepathy-gabble) didn't do this.</p>
      </div></div>

      <p>All channels of this type should have <a href="Channel.html#Property:TargetHandleType" namespace="ofdT.Channel" title="Property org.freedesktop.Telepathy.Channel.TargetHandleType">TargetHandleType</a>
        <code>None</code> (and hence <a href="Channel.html#Property:TargetHandle" namespace="ofdT.Channel" title="Property org.freedesktop.Telepathy.Channel.TargetHandle">TargetHandle</a> <code>0</code> and
        <a href="Channel.html#Property:TargetID" namespace="ofdT.Channel" title="Property org.freedesktop.Telepathy.Channel.TargetID">TargetID</a>
        <code>&quot;&quot;</code>).</p>

      <p>Requests for channels of this type need only
        optionally specify the <a href="Channel_Type_Contact_Search.html#Property:Server" title="Property org.freedesktop.Telepathy.Channel.Type.ContactSearch.Server">Server</a> property
        (if it is an allowed property in the connection's <a href="Connection_Interface_Requests.html#Property:RequestableChannelClasses" namespace="ofdT.Connection.Interface.Requests" title="Property org.freedesktop.Telepathy.Connection.Interface.Requests.RequestableChannelClasses">RequestableChannelClasses</a>).</p>

      <p>Before searching, the
        <a href="Channel_Type_Contact_Search.html#Property:AvailableSearchKeys" title="Property org.freedesktop.Telepathy.Channel.Type.ContactSearch.AvailableSearchKeys">AvailableSearchKeys</a> property should be
        inspected to determine the valid search keys which can be provided to
        the <a href="Channel_Type_Contact_Search.html#Method:Search" title="Method org.freedesktop.Telepathy.Channel.Type.ContactSearch.Search">Search</a> method. A search request is
        then started by providing some of these terms to the Search method, and
        the <a href="Channel_Type_Contact_Search.html#Property:SearchState" title="Property org.freedesktop.Telepathy.Channel.Type.ContactSearch.SearchState">SearchState</a> will change from
        <code>Not_Started</code> to <code>In_Progress</code>.  As results are
        returned by the server, the
        <a href="Channel_Type_Contact_Search.html#Signal:SearchResultReceived" title="Signal org.freedesktop.Telepathy.Channel.Type.ContactSearch.SearchResultReceived">SearchResultReceived</a> signal is emitted
        for each contact found; when the search is complete, the search state
        will be set to <code>Completed</code>. If the search fails after Search
        has been called, the state will change to <code>Failed</code>.  A
        running search can be cancelled by calling
        <a href="Channel_Type_Contact_Search.html#Method:Stop" title="Method org.freedesktop.Telepathy.Channel.Type.ContactSearch.Stop">Stop</a>.</p>

      <p>If the protocol supports limiting the number of results returned by a
        search and subsequently requesting more results, after
        <a href="Channel_Type_Contact_Search.html#Property:Limit" title="Property org.freedesktop.Telepathy.Channel.Type.ContactSearch.Limit">Limit</a> results have been received the
        search state will be set to <code>More_Available</code>. Clients may
        call <a href="Channel_Type_Contact_Search.html#Method:More" title="Method org.freedesktop.Telepathy.Channel.Type.ContactSearch.More">More</a> to request another
        <a href="Channel_Type_Contact_Search.html#Property:Limit" title="Property org.freedesktop.Telepathy.Channel.Type.ContactSearch.Limit">Limit</a> results. If allowed by the
        connection manager, clients may specify the &quot;page size&quot; by specifying
        <a href="Channel_Type_Contact_Search.html#Property:Limit" title="Property org.freedesktop.Telepathy.Channel.Type.ContactSearch.Limit">Limit</a> when calling
        <a href="Connection_Interface_Requests.html#Method:CreateChannel" namespace="org.freedesktop.Telepathy.Connection.Interface.Requests" title="Method org.freedesktop.Telepathy.Connection.Interface.Requests.CreateChannel">CreateChannel</a>.
        </p>

      <p>The client should call the channel's <a href="Channel.html#Method:Close" namespace="org.freedesktop.Telepathy.Channel" title="Method org.freedesktop.Telepathy.Channel.Close">Close</a>
        method when it is finished with the channel.</p>

      <p>Each channel can only be used for a single search; a new channel
        should be requested for each subsequent search. Connection managers
        MUST support multiple ContactSearch channels being open at once (even
        to the same server, if applicable).</p>

      <p>It does not make sense to request this channel type using <a href="Connection_Interface_Requests.html#Method:EnsureChannel" namespace="org.freedesktop.Telepathy.Connection.Interface.Requests" title="Method org.freedesktop.Telepathy.Connection.Interface.Requests.EnsureChannel">EnsureChannel</a>;
        clients SHOULD request channels of this type using
        <a href="Connection_Interface_Requests.html#Method:CreateChannel" namespace="org.freedesktop.Telepathy.Connection.Interface.Requests" title="Method org.freedesktop.Telepathy.Connection.Interface.Requests.CreateChannel">CreateChannel</a>
        instead.</p>

      <div class="rationale"><h5>Rationale:</h5><div>
        <p>A contact search channel that is already in use for a different
          search isn't useful.</p>
      </div></div>
    </div>
   

   

   
   <div class="outset methods method">
    <a name="methods"></a>
    <h1>Methods</h1>
    
    <div class="inset method">
     <a name="Method:Search"></a>
     <span class="permalink">(<a href="Channel_Type_Contact_Search.html#Method:Search">Permalink</a>)</span>
     <h2>Search (a{ss}: Terms) &#8594; nothing</h2>

     
     
     

     

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
        Terms &mdash; a{ss}
        
          (<a href="Channel_Type_Contact_Search.html#Mapping:Contact_Search_Map" title="Mapping Contact_Search_Map">Contact_Search_Map</a>)
        
       </li>
       
       
       
       <div class="docstring">
          A dictionary mapping search key names to the desired values
        </div>
      
      </ul>
     </div>
     

     

     <div class="docstring">
        Send a request to start a search for contacts on this connection. This
        may only be called while the <a href="Channel_Type_Contact_Search.html#Property:SearchState" title="Property org.freedesktop.Telepathy.Channel.Type.ContactSearch.SearchState">SearchState</a>
        is Not_Started; a valid search request will cause the
        <a href="Channel_Type_Contact_Search.html#Signal:SearchStateChanged" title="Signal org.freedesktop.Telepathy.Channel.Type.ContactSearch.SearchStateChanged">SearchStateChanged</a> signal to be emitted
        with the state In_Progress.
      </div>

     
     <hr/>
     <div class="indent">
      <h3>Possible Errors</h3>
      <ul>
      
       <li><a href="errors.html#Error:Not Available" title="Error org.freedesktop.Telepathy.Error.NotAvailable">Not Available</a></li>
       
       
       
       <div class="docstring">
            The <a href="Channel_Type_Contact_Search.html#Property:SearchState" title="Property org.freedesktop.Telepathy.Channel.Type.ContactSearch.SearchState">SearchState</a> is no longer
            Not_Started, so this method is no longer available.
          </div>
      
       <li><a href="errors.html#Error:Invalid Argument" title="Error org.freedesktop.Telepathy.Error.InvalidArgument">Invalid Argument</a></li>
       
       
       
       <div class="docstring">
            The search terms included something this connection manager cannot
            search for.
          </div>
      
       <li><a href="errors.html#Error:Network Error" title="Error org.freedesktop.Telepathy.Error.NetworkError">Network Error</a></li>
       
       
       
       <div class="docstring">
    Raised when there is an error reading from or writing to the network.
    </div>
      
      </ul>
     </div>
     
    </div>
    
    <div class="inset method">
     <a name="Method:More"></a>
     <span class="permalink">(<a href="Channel_Type_Contact_Search.html#Method:More">Permalink</a>)</span>
     <h2>More () &#8594; nothing</h2>

     
     
     

     

     

     

     <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        Request that a search in <a href="Channel_Type_Contact_Search.html#Property:SearchState" title="Property org.freedesktop.Telepathy.Channel.Type.ContactSearch.SearchState">SearchState</a>
        <code>More_Available</code> move back to state <code>In_Progress</code>
        and continue listing up to <a href="Channel_Type_Contact_Search.html#Property:Limit" title="Property org.freedesktop.Telepathy.Channel.Type.ContactSearch.Limit">Limit</a> more results.
      </div>

     
     <hr/>
     <div class="indent">
      <h3>Possible Errors</h3>
      <ul>
      
       <li><a href="errors.html#Error:Not Available" title="Error org.freedesktop.Telepathy.Error.NotAvailable">Not Available</a></li>
       
       
       
       <div class="docstring">
            The <a href="Channel_Type_Contact_Search.html#Property:SearchState" title="Property org.freedesktop.Telepathy.Channel.Type.ContactSearch.SearchState">SearchState</a> is not
            <code>More_Available</code>.
          </div>
      
      </ul>
     </div>
     
    </div>
    
    <div class="inset method">
     <a name="Method:Stop"></a>
     <span class="permalink">(<a href="Channel_Type_Contact_Search.html#Method:Stop">Permalink</a>)</span>
     <h2>Stop () &#8594; nothing</h2>

     
     
     

     

     

     

     <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>Stop the current search. This may not be called while the
          <a href="Channel_Type_Contact_Search.html#Property:SearchState" title="Property org.freedesktop.Telepathy.Channel.Type.ContactSearch.SearchState">SearchState</a> is Not_Started. If called
          while the SearchState is In_Progress,
          <a href="Channel_Type_Contact_Search.html#Signal:SearchStateChanged" title="Signal org.freedesktop.Telepathy.Channel.Type.ContactSearch.SearchStateChanged">SearchStateChanged</a> will be emitted,
          with the state Failed and the error
          <code>org.freedesktop.Telepathy.Error.<a href="errors.html#Error:Cancelled" title="org.freedesktop.Telepathy.Error.Cancelled">Cancelled</a></code>.</p>

        <p>Calling this method on a search in state Completed or Failed
          succeeds, but has no effect.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>Specifying Stop to succeed when the search has finished means that
            clients who call Stop just before receiving
            <a href="Channel_Type_Contact_Search.html#Signal:SearchStateChanged" title="Signal org.freedesktop.Telepathy.Channel.Type.ContactSearch.SearchStateChanged">SearchStateChanged</a> don't have to
            handle a useless error.</p>
        </div></div>

        <p>Depending on the protocol, the connection manager may not be
          able to prevent the server from sending further results after this
          method returns; if this is the case, it MUST ignore any further
          results.</p>
      </div>

     
     <hr/>
     <div class="indent">
      <h3>Possible Errors</h3>
      <ul>
      
       <li><a href="errors.html#Error:Not Available" title="Error org.freedesktop.Telepathy.Error.NotAvailable">Not Available</a></li>
       
       
       
       <div class="docstring">
            The <a href="Channel_Type_Contact_Search.html#Property:SearchState" title="Property org.freedesktop.Telepathy.Channel.Type.ContactSearch.SearchState">SearchState</a> is Not_Started, so
            this method is not yet available.
          </div>
      
      </ul>
     </div>
     
    </div>
    
   </div>
   

   
   <div class="outset signals signal">
    <a name="signals"></a>
    <h1>Signals</h1>
    
    <div class="inset signal">
     <a name="Signal:SearchStateChanged"></a>
     <span class="permalink">(<a href="Channel_Type_Contact_Search.html#Signal:SearchStateChanged">Permalink</a>)</span>
     <h2>SearchStateChanged (u: State, s: Error, a{sv}: Details)</h2>

     
     
     

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
       State &mdash; u
       
        (<a href="Channel_Type_Contact_Search.html#Enum:Channel_Contact_Search_State" title="Enum Channel_Contact_Search_State">Channel_Contact_Search_State</a>)
       
       </li>
       
       
       
       <div class="docstring">The new search state</div>
      
       <li>
       Error &mdash; s
       
        (<a href="generic-types.html#Simple-Type:DBus_Error_Name" title="Simple Type DBus_Error_Name">DBus_Error_Name</a>)
       
       </li>
       
       
       
       <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          If the new state is <code>Failed</code>, the name of a D-Bus error
          describing what went wrong. Otherwise, the empty string.
        </div>
      
       <li>
       Details &mdash; a{sv}
       
        (<a href="generic-types.html#Mapping:String_Variant_Map" title="Mapping String_Variant_Map">String_Variant_Map</a>)
       
       </li>
       
       
       
       <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          <p>Additional information about the state transition, which may
            include the following well-known keys:</p>

          <dl>
            <dt>debug-message (s)</dt>
            <dd>Debugging information on the change, corresponding to the
              message part of a D-Bus error message, which SHOULD NOT be
              displayed to users under normal circumstances</dd>
          </dl>

          <div class="rationale"><h5>Rationale:</h5><div>
            <p>This argument allows for future extensions. For instance,
              if moving to state <code>Failed</code> because the server
              rejected one of our search terms, we could define a key
              that indicates which terms were invalid.</p>
          </div></div>
        </div>
      
      </ul>
     </div>
     

     <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>Emitted when the <a href="Channel_Type_Contact_Search.html#Property:SearchState" title="Property org.freedesktop.Telepathy.Channel.Type.ContactSearch.SearchState">SearchState</a> property
          changes. The implementation MUST NOT make transitions other than the
          following:</p>

        <ul>
          <li><code>Not_Started</code> → <code>In_Progress</code></li>
          <li><code>In_Progress</code> → <code>More_Available</code></li>
          <li><code>More_Available</code> → <code>In_Progress</code></li>
          <li><code>In_Progress</code> → <code>Completed</code></li>
          <li><code>In_Progress</code> → <code>Failed</code></li>
        </ul>
      </div>
    </div>
    
    <div class="inset signal">
     <a name="Signal:SearchResultReceived"></a>
     <span class="permalink">(<a href="Channel_Type_Contact_Search.html#Signal:SearchResultReceived">Permalink</a>)</span>
     <h2>SearchResultReceived (a{sa(sasas)}: Result)</h2>

     
     
     

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
       Result &mdash; a{sa(sasas)}
       
        (<a href="Channel_Type_Contact_Search.html#Mapping:Contact_Search_Result_Map" title="Mapping Contact_Search_Result_Map">Contact_Search_Result_Map</a>)
       
       </li>
       
       
       
       <div class="docstring">A mapping from contact identifier to an array of fields
          representing information about this contact.</div>
      
      </ul>
     </div>
     

     <div class="docstring">
        Emitted when a some search results are received from the server.
        This signal can be fired arbitrarily many times so clients MUST NOT
        assume they'll get only one signal.
      </div>
    </div>
    
   </div>
   

   
   <div class="outset properties property">
    <a name="properties"></a>
    <h1>Properties</h1>
    <div>
     Accessed using the <a
       href="http://dbus.freedesktop.org/doc/dbus-specification.html#standard-interfaces-properties">org.freedesktop.DBus.Properties</a>
     interface.
    </div>
    
    <div class="inset property">
     <a name="Property:SearchState"></a>
     <span class="permalink">(<a href="Channel_Type_Contact_Search.html#Property:SearchState">Permalink</a>)</span>
     <h2>
      SearchState &mdash; u
      
        (<a href="Channel_Type_Contact_Search.html#Enum:Channel_Contact_Search_State" title="Enum Channel_Contact_Search_State">Channel_Contact_Search_State</a>)
      
     </h2>
      <div class="access">Read only</div>

     

     

     
     
     

     
     
     

      

     <div class="docstring">
        The current state of this search channel object. Change notification
        is via <a href="Channel_Type_Contact_Search.html#Signal:SearchStateChanged" title="Signal org.freedesktop.Telepathy.Channel.Type.ContactSearch.SearchStateChanged">SearchStateChanged</a>.
      </div>
    </div>
    
    <div class="inset property">
     <a name="Property:Limit"></a>
     <span class="permalink">(<a href="Channel_Type_Contact_Search.html#Property:Limit">Permalink</a>)</span>
     <h2>
      Limit &mdash; u
      
     </h2>
      <div class="access">Read only</div>

     
     <div class="annotation immutable">This property is
       <strong>immutable</strong> which means that it can never
       
       change once the channel has been created. Immutable properties SHOULD
       appear in the channel detail list
       of <a href="Connection_Interface_Requests.html#org.freedesktop.Telepathy.Connection.Interface.Requests.NewChannel">NewChannel</a>
       signals.
       
     </div>
     

     
     <div class="annotation requestable">Depending on the protocol, this
       property may be <strong>requestable</strong>, which means that it may be
       allowed in the properties hash of a channel request such as in the
       <a href="Connection_Interface_Requests.html#org.freedesktop.Telepathy.Connection.Interface.Requests.CreateChannel">CreateChannel</a>
       and
       <a href="Connection_Interface_Requests.html#org.freedesktop.Telepathy.Connection.Interface.Requests.EnsureChannel">EnsureChannel</a>
       methods
       on <a href="Connection_Interface_Requests.html">Requests</a>
       and <a href="Channel_Dispatcher.html">ChannelDispatcher</a>.
       If supported on this protocol, the property should appear in either the
       Fixed_Properties or Allowed_Properties of
       a <a href="Connection.html#org.freedesktop.Telepathy.Connection.RequestableChannelClasses">RequestableChannelClass</a>
       advertised by the CM.</div>
     

     
     
     

     

      

     <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>If supported by the protocol, the maximum number of results that
          should be returned, where <code>0</code> represents no limit. If the
          protocol does not support limiting results, this should be
          <code>0</code>.</p>

        <p>For example, if the terms passed to
          <a href="Channel_Type_Contact_Search.html#Method:Search" title="Method org.freedesktop.Telepathy.Channel.Type.ContactSearch.Search">Search</a> match <i>Antonius</i>,
          <i>Bridget</i> and <i>Charles</i> and this property is
          <code>2</code>, the search service SHOULD only return <i>Antonius</i>
          and <i>Bridget</i>.</p>

        <p>This property SHOULD be requestable if and only if the protocol
          supports specifying a limit; implementations SHOULD use
          <code>0</code> as the default if possible, or a protocol-specific
          sensible default otherwise.</p>
      </div>
    </div>
    
    <div class="inset property">
     <a name="Property:AvailableSearchKeys"></a>
     <span class="permalink">(<a href="Channel_Type_Contact_Search.html#Property:AvailableSearchKeys">Permalink</a>)</span>
     <h2>
      AvailableSearchKeys &mdash; as
      
     </h2>
      <div class="access">Read only</div>

     
     <div class="annotation immutable">This property is
       <strong>immutable</strong> which means that it can never
       
       change once the channel has been created. Immutable properties SHOULD
       appear in the channel detail list
       of <a href="Connection_Interface_Requests.html#org.freedesktop.Telepathy.Connection.Interface.Requests.NewChannel">NewChannel</a>
       signals.
       
     </div>
     

     

     
     
     

     

      

     <div class="docstring">
        The set of search keys supported by this channel. Example values
        include [&quot;&quot;] (for protocols where several address fields are
        implicitly searched) or [&quot;x-n-given&quot;, &quot;x-n-family&quot;, &quot;nickname&quot;,
        &quot;email&quot;] (for XMPP XEP-0055, without extensibility via Data Forms).

        <div class="rationale"><h5>Rationale:</h5><div>
          It can be in the <a href="Connection_Interface_Requests.html#Signal:NewChannels" namespace="org.freedesktop.Telepathy.Connection.Interface.Requests" title="Signal org.freedesktop.Telepathy.Connection.Interface.Requests.NewChannels">NewChannels</a>
          signal for round-trip reduction.
        </div></div>
      </div>
    </div>
    
    <div class="inset property">
     <a name="Property:Server"></a>
     <span class="permalink">(<a href="Channel_Type_Contact_Search.html#Property:Server">Permalink</a>)</span>
     <h2>
      Server &mdash; s
      
     </h2>
      <div class="access">Read only</div>

     
     <div class="annotation immutable">This property is
       <strong>immutable</strong> which means that it can never
       
       change once the channel has been created. Immutable properties SHOULD
       appear in the channel detail list
       of <a href="Connection_Interface_Requests.html#org.freedesktop.Telepathy.Connection.Interface.Requests.NewChannel">NewChannel</a>
       signals.
       
     </div>
     

     
     <div class="annotation requestable">Depending on the protocol, this
       property may be <strong>requestable</strong>, which means that it may be
       allowed in the properties hash of a channel request such as in the
       <a href="Connection_Interface_Requests.html#org.freedesktop.Telepathy.Connection.Interface.Requests.CreateChannel">CreateChannel</a>
       and
       <a href="Connection_Interface_Requests.html#org.freedesktop.Telepathy.Connection.Interface.Requests.EnsureChannel">EnsureChannel</a>
       methods
       on <a href="Connection_Interface_Requests.html">Requests</a>
       and <a href="Channel_Dispatcher.html">ChannelDispatcher</a>.
       If supported on this protocol, the property should appear in either the
       Fixed_Properties or Allowed_Properties of
       a <a href="Connection.html#org.freedesktop.Telepathy.Connection.RequestableChannelClasses">RequestableChannelClass</a>
       advertised by the CM.</div>
     

     
     
     

     

      

     <div class="docstring">
        <p>For protocols which support searching for contacts on multiple
          servers with different DNS names (like XMPP), the DNS name of the
          server being searched by this channel, e.g.
          &quot;characters.shakespeare.lit&quot;.  Otherwise, the empty string.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>XEP 0055 defines a mechanism for XMPP clients to search services
            of their choice for contacts, such as users.jabber.org (the &quot;Jabber
            User Directory&quot;).</p>
        </div></div>

        <p>This property SHOULD be requestable if and only if the
          protocol supports querying multiple different servers;
          implementations SHOULD use a sensible default if possible if this
          property is not specified in a channel request.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>This allows a client to perform searches on a protocol it knows
            nothing about without requiring the user to guess a valid server's
            hostname.</p>
        </div></div>
      </div>
    </div>
    
   </div>
   

   

   

   
   <div class="outset types type">
    <a name="types"></a>
    <h1>Types</h1>
    
     <div class="inset type">
      <a name="Simple-Type:Contact_Search_Key"></a>
      <span class="permalink">Simple Type (<a href="Channel_Type_Contact_Search.html#Simple-Type:Contact_Search_Key">Permalink</a>)</span>
      <h2>
       Contact_Search_Key &mdash; s
      </h2>

      
      
      
      <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>Any of the following search keys, with the indicated result for
          the search:</p>

        <dl>
          <dt>The empty string</dt>
          <dd>Search for the search term in some implementation-dependent
            set of fields, using an implementation-dependent algorithm
            (e.g. searching for each word mentioned)
            <div class="rationale"><h5>Rationale:</h5><div>
              The &quot;one big search box&quot; approach to searching, as is familiar
              from Google. The Sametime plugin to Pidgin appears to search in
              this way.
            </div></div>
          </dd>

          <dt>A <a href="Connection_Interface_Contact_Info.html#Simple-Type:VCard_Field">VCard_Field</a></dt>
          <dd>Search for the search term in fields matching that name (for
            instance, <code>nickname</code> would search nicknames, and
            <code>tel</code> would search any available phone number,
            regardless of its work/home/mobile/... status).</dd>

          <dt>A <a href="Connection_Interface_Contact_Info.html#Simple-Type:VCard_Field">VCard_Field</a> followed by
            &quot;<code>;</code>&quot; and a
            <a href="Connection_Interface_Contact_Info.html#Simple-Type:VCard_Type_Parameter">VCard_Type_Parameter</a> of the form
            &quot;<code>type=...</code>&quot;</dt>
          <dd>Search for the search term in fields of that name and type
            only (for instance, <code>tel;type=mobile</code>).</dd>

          <dt><code>x-telepathy-identifier</code></dt>
          <dd>Search for contacts whose identifier in the IM protocol
            matches the search term (e.g. contains it as a substring)
            <div class="rationale"><h5>Rationale:</h5><div>
              Otherwise, starting a search by identifier would require the UI
              to know the vCard field name corresponding to identifiers in
              this protocol, which might be non-standard (like
              <code>x-jabber</code>) or not exist at all.
            </div></div>
          </dd>

          <dt><code>x-gender</code></dt>
          <dd>For the search term &quot;male&quot; or &quot;female&quot;, search only for contacts
            listed as male or female, respectively. The results for other
            search terms are undefined; it is likely that contacts with
            unspecified gender will only be matched if this search key
            is omitted from the request.
            <div class="rationale"><h5>Rationale:</h5><div>
              Examples in XEP-0055 suggest this usage, and at least Gadu-Gadu
              also supports limiting search results by gender.
            </div></div>
          </dd>

          <dt><code>x-n-family</code></dt>
          <dd>Search for the search term in contacts' family names
            (the first component of the vCard field <code>n</code>).
            <div class="rationale"><h5>Rationale:</h5><div>
              Gadu-Gadu and TOC seem to support this mode of searching.
            </div></div>
          </dd>

          <dt><code>x-n-given</code></dt>
          <dd>Search for the search term in contacts' given names
            (the second component of the vCard field <code>n</code>).
            <div class="rationale"><h5>Rationale:</h5><div>
              As for <code>x-n-family</code>.
            </div></div>
          </dd>

          <dt><code>x-online</code></dt>
          <dd>For the search term &quot;yes&quot;, search only for contacts who are
            currently online. The results for other search terms are undefined.
            <div class="rationale"><h5>Rationale:</h5><div>Gadu-Gadu appears to support this.</div></div>
          </dd>

          <dt><code>x-adr-locality</code></dt>
          <dd>Search for the search term as a locality or city (the fourth
            component of the vCard field <code>adr</code>).
            <div class="rationale"><h5>Rationale:</h5><div>
              Gadu-Gadu and TOC appear to support this.
            </div></div>
          </dd>
        </dl>
      </div>
      
     </div>
    
     <div class="inset type">
      <a name="Enum:Channel_Contact_Search_State"></a>
      <span class="permalink">Enum (<a href="Channel_Type_Contact_Search.html#Enum:Channel_Contact_Search_State">Permalink</a>)</span>
      <h2>
       Channel_Contact_Search_State &mdash; u
      </h2>

      
      
      
      
      <ul>
<li>Not_Started (0)</li>
<div class="docstring">The search has not started</div><li>In_Progress (1)</li>
<div class="docstring">The search is in progress</div><li>More_Available (2)</li>
<div class="docstring">The search has paused, but more results can be retrieved
          by calling <a href="Channel_Type_Contact_Search.html#Method:More" title="Method org.freedesktop.Telepathy.Channel.Type.ContactSearch.More">More</a>.</div><li>Completed (3)</li>
<div class="docstring">The search has been completed</div><li>Failed (4)</li>
<div class="docstring">The search has failed</div></ul>

     </div>
    
     <div class="inset type">
      <a name="Mapping:Contact_Search_Map"></a>
      <span class="permalink">Mapping (<a href="Channel_Type_Contact_Search.html#Mapping:Contact_Search_Map">Permalink</a>)</span>
      <h2>
       Contact_Search_Map &mdash; a{ss}
      </h2>

      
      
      
      <div class="docstring">A map from search keys to search terms.</div>
      <ul>
<li>Key &mdash; s (<a href="Channel_Type_Contact_Search.html#Simple-Type:Contact_Search_Key" title="Simple Type Contact_Search_Key">Contact_Search_Key</a>)</li>
<div class="docstring">
          The search key to match against
        </div><li>Term &mdash; s</li>
<div class="docstring">
          The term or terms to be searched for in the search key; depending on
          the protocol and the server implementation, this may be matched by
          exact or approximate equality, substring matching, word matching
          or any other matching algorithm
        </div></ul>

     </div>
    
     <div class="inset type">
      <a name="Mapping:Contact_Search_Result_Map"></a>
      <span class="permalink">Mapping (<a href="Channel_Type_Contact_Search.html#Mapping:Contact_Search_Result_Map">Permalink</a>)</span>
      <h2>
       Contact_Search_Result_Map &mdash; a{sa(sasas)}
      </h2>

      
      
      
      <div class="docstring">A map from contact identifier to search result, emitted in
        the <a href="Channel_Type_Contact_Search.html#Signal:SearchResultReceived" title="Signal org.freedesktop.Telepathy.Channel.Type.ContactSearch.SearchResultReceived">SearchResultReceived</a>
        signal.</div>
      <ul>
<li>Contact_Identifier &mdash; s</li>
<div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          The identifier of a contact matching the search terms.

          <div class="rationale"><h5>Rationale:</h5><div>
            This is an identifier rather than a handle in case we make handles
            immortal; see <a href="https://bugs.freedesktop.org/show_bug.cgi?id=23155">fd.o#23155</a>
            and <a href="https://bugs.freedesktop.org/show_bug.cgi?id=13347#c5">fd.o#13347
            comment 5</a>.
          </div></div>
        </div><li>Info &mdash; a(sasas) (<a href="Connection_Interface_Contact_Info.html#Struct:Contact_Info_Field" title="Array of Struct Contact_Info_Field">Contact_Info_Field_List</a>)</li>
<div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          <p>An array of fields representing information about this
            contact, in the same format used in the <a href="Connection_Interface_Contact_Info.html" namespace="org.freedesktop.Telepathy.Connection.Interface" title="Interface org.freedesktop.Telepathy.Connection.Interface.ContactInfo">ContactInfo</a>
            interface. It is possible that a separate call to <a href="Connection_Interface_Contact_Info.html#Method:RequestContactInfo" namespace="org.freedesktop.Telepathy.Connection.Interface.ContactInfo" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactInfo.RequestContactInfo">RequestContactInfo</a>
            would return more information than this signal provides.</p>
        </div></ul>

     </div>
    
   </div>
   

   </div>

 </body>
</html>