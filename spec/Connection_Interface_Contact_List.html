<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd" "">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
 <head>
  <title>Conn.I.ContactList &mdash; Telepathy D-Bus Interface Specification</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="style.css" type="text/css"/>
  <link rel="shortcut icon" type="image/png" media="all" href="favicon.png" />
  <script src="jquery.min.js"></script>
  <script src="magic.js"></script>
 </head>
 <body>
  <div class="header">
  <h1>Interface <abbr title='org.freedesktop.Telepathy.Connection.Interface.ContactList'>Connection.Interface.ContactList</abbr></h1>
   <a href="index.html">Interface Index</a>
   (<a href="interfaces.html">Compact</a>)
   | <a href="#summary">Summary</a>
   
    | <a href="#description">Description</a> 
    | <a href="#methods">Methods</a> 
    | <a href="#signals">Signals</a> 
    | <a href="#properties">Properties</a> 
    | <a href="#contact-attributes">Contact Attributes</a> 
   
    | <a href="#types">Types</a> 
  </div>
  <div class="main">

    
    <div class="summary">
     <a name="summary"></a>
     
     
     <h3>Methods</h3>
     <table class="summary">
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_List.html#Method:GetContactListAttributes">GetContactListAttributes</a></td>
       <td>(as: Interfaces, b: Hold)</td>
       <td>&#8594;</td>
       <td>a{ua{sv}}: Attributes</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_List.html#Method:RequestSubscription">RequestSubscription</a></td>
       <td>(au: Contacts, s: Message)</td>
       <td>&#8594;</td>
       <td>nothing</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_List.html#Method:AuthorizePublication">AuthorizePublication</a></td>
       <td>(au: Contacts)</td>
       <td>&#8594;</td>
       <td>nothing</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_List.html#Method:RemoveContacts">RemoveContacts</a></td>
       <td>(au: Contacts)</td>
       <td>&#8594;</td>
       <td>nothing</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_List.html#Method:Unsubscribe">Unsubscribe</a></td>
       <td>(au: Contacts)</td>
       <td>&#8594;</td>
       <td>nothing</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_List.html#Method:Unpublish">Unpublish</a></td>
       <td>(au: Contacts)</td>
       <td>&#8594;</td>
       <td>nothing</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_List.html#Method:Download">Download</a></td>
       <td>()</td>
       <td>&#8594;</td>
       <td>nothing</td>
       <td>
        
       </td>
      </tr>
      
     </table>
     

     
     <h3>Signals</h3>
     <table class="summary">
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_List.html#Signal:ContactListStateChanged">ContactListStateChanged</a></td>
       <td>(u: Contact_List_State)</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_List.html#Signal:ContactsChangedWithID">ContactsChangedWithID</a></td>
       <td>(a{u(uus)}: Changes, a{us}: Identifiers, a{us}: Removals)</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr class="deprecated">
       
       <td><a href="Connection_Interface_Contact_List.html#Signal:ContactsChanged">ContactsChanged</a></td>
       <td>(a{u(uus)}: Changes, au: Removals)</td>
       <td>
         (deprecated) 
       </td>
      </tr>
      
     </table>
    

     
     <h3>Properties</h3>
     <table class="summary">
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_List.html#Property:ContactListState">ContactListState</a></td>
       <td>
        u
        
          (<a href="Connection_Interface_Contact_List.html#Enum:Contact_List_State" title="Enum Contact_List_State">
              Contact_List_State</a>)
        
       </td>
       <td>Read only</td>
       <td></td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_List.html#Property:ContactListPersists">ContactListPersists</a></td>
       <td>
        b
        
       </td>
       <td>Read only</td>
       <td></td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_List.html#Property:CanChangeContactList">CanChangeContactList</a></td>
       <td>
        b
        
       </td>
       <td>Read only</td>
       <td></td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_List.html#Property:RequestUsesMessage">RequestUsesMessage</a></td>
       <td>
        b
        
       </td>
       <td>Read only</td>
       <td></td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_List.html#Property:DownloadAtConnection">DownloadAtConnection</a></td>
       <td>
        b
        
       </td>
       <td>Read only</td>
       <td></td>
       <td>
        
       </td>
      </tr>
      
    </table>
    

     
     <h3>Contact Attributes</h3>
     <table class="summary">
      
       <tr class="contact-attribute">
       <td><a href="Connection_Interface_Contact_List.html#Contact-Attribute:subscribe">org.freedesktop.Telepathy.Connection.Interface.ContactList/subscribe</a></td>
       <td>
        u
        
        (<a href="Connection_Interface_Contact_List.html#Enum:Subscription_State" title="Enum Subscription_State">
            Subscription_State</a>)
        
       </td>
      </tr>
      
       <tr class="contact-attribute">
       <td><a href="Connection_Interface_Contact_List.html#Contact-Attribute:publish">org.freedesktop.Telepathy.Connection.Interface.ContactList/publish</a></td>
       <td>
        u
        
        (<a href="Connection_Interface_Contact_List.html#Enum:Subscription_State" title="Enum Subscription_State">
            Subscription_State</a>)
        
       </td>
      </tr>
      
       <tr class="contact-attribute">
       <td><a href="Connection_Interface_Contact_List.html#Contact-Attribute:publish-request">org.freedesktop.Telepathy.Connection.Interface.ContactList/publish-request</a></td>
       <td>
        s
        
       </td>
      </tr>
      
    </table>
    

     

     
     <h3>Types</h3>
     <table class="summary">
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_List.html#Enum:Contact_List_State">Contact_List_State</a></td>
       <td>Enum</td>
       <td>u</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_List.html#Enum:Subscription_State">Subscription_State</a></td>
       <td>Enum</td>
       <td>u</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_List.html#Enum:Contact_Metadata_Storage_Type">Contact_Metadata_Storage_Type</a></td>
       <td>Enum</td>
       <td>u</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_List.html#Mapping:Contact_Subscription_Map">Contact_Subscription_Map</a></td>
       <td>Mapping</td>
       <td>a{u(uus)}</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Contact_List.html#Struct:Contact_Subscriptions">Contact_Subscriptions</a></td>
       <td>Struct</td>
       <td>(uus)</td>
       <td>
        
       </td>
      </tr>
      
     </table>
    
   </div>
   

   
   <div class="annotation added"><span class="version">Added in 0.21.0. </span>(as stable API)</div>
   
   

   
   <div class="requires">
    Objects implementing this interface must also implement:
    <ul>
    
    
     <li><a href="Connection.html" title="Interface org.freedesktop.Telepathy.Connection">org.freedesktop.Telepathy.Connection</a></li>
    
    </ul>
   </div>
   

   
    <a name="description"></a>
    <h3>Description</h3>
    <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
      <p>An interface for connections that have any concept of a list of
        known contacts (roster, buddy list, friends list etc.)</p>

      <div class="rationale"><h5>Rationale:</h5><div>
        <p>On many protocols, there's a server-side roster (as in XMPP),
          or a set of server-side lists that can be combined to form a
          roster (as in MSN).</p>

        <p>In some protocols (like link-local XMPP), while there might not be
          any server or roster, it's possible to list &quot;nearby&quot; contacts.</p>

        <p>In Telepathy 0.20 and older, we represented contact lists as a
          collection of <a href="Channel_Type_Contact_List.html" namespace="org.freedesktop.Telepathy.Channel.Type" title="Interface org.freedesktop.Telepathy.Channel.Type.ContactList">ContactList</a> channels. This is remarkably difficult to
          work with in practice - every client that cares about contact lists
          has to take the union of some hard-to-define set of these
          channels - and conflicts with the idea that channels that cannot
          be dispatched to a handler should be closed.</p>
      </div></div>

      <p>The list of contacts is not exposed as a D-Bus property; it can be
        fetched using <a href="Connection_Interface_Contact_List.html#Method:GetContactListAttributes" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.GetContactListAttributes">GetContactListAttributes</a>.
      </p>

      <div class="rationale"><h5>Rationale:</h5><div>
        <p>In some protocols, such as XMPP, the contact list may not be
          available immediately. The
          <a href="Connection_Interface_Contact_List.html#Method:GetContactListAttributes" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.GetContactListAttributes">GetContactListAttributes</a> method
          will fail until the contact list is available.
          Using a method also allows extra attributes to be retrieved at
          the same time.</p>
      </div></div>
    </div>
   

   

   
   <div class="outset methods method">
    <a name="methods"></a>
    <h1>Methods</h1>
    
    <div class="inset method">
     <a name="Method:GetContactListAttributes"></a>
     <span class="permalink">(<a href="Connection_Interface_Contact_List.html#Method:GetContactListAttributes">Permalink</a>)</span>
     <h2>GetContactListAttributes (as: Interfaces, b: Hold) &#8594; a{ua{sv}}: Attributes</h2>

     
     
     

     

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
        Interfaces &mdash; as
        
          (<a href="generic-types.html#Simple-Type:DBus_Interface" title="Array of Simple Type DBus_Interface">DBus_Interface_List</a>)
        
       </li>
       
       
       
       <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          <p>A list of strings indicating which D-Bus interfaces the calling
            process is interested in. Equivalent to the corresponding argument
            to <a href="Connection_Interface_Contacts.html#Method:GetContactAttributes" namespace="org.freedesktop.Telepathy.Connection.Interface.Contacts" title="Method org.freedesktop.Telepathy.Connection.Interface.Contacts.GetContactAttributes">GetContactAttributes</a>,
            except that if this list does not contain the ContactList
            interface itself, it is treated as though that interface was also
            requested.</p>
        </div>
      
       <li>
        Hold &mdash; b
        
       </li>
       
       
       
       <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          <p>If true, all handles that appear as keys in the result have been
            held on behalf of the calling process, as if by a call to
            <a href="Connection.html#Method:HoldHandles" namespace="ofdT" title="Method org.freedesktop.Telepathy.Connection.HoldHandles">Connection.HoldHandles</a>.
            (If <a href="Connection.html#Property:HasImmortalHandles" namespace="ofdT.Connection" title="Property org.freedesktop.Telepathy.Connection.HasImmortalHandles">HasImmortalHandles</a> is true, which SHOULD be the
            case in all new connection managers, this has no effect.)</p>
        </div>
      
      </ul>
     </div>
     

     
     <div class="indent">
      <h3>Returns</h3>
      <ul>
      
       <li>
        Attributes &mdash; a{ua{sv}}
        
          (<a href="Connection_Interface_Contacts.html#Mapping:Contact_Attributes_Map" title="Mapping Contact_Attributes_Map">Contact_Attributes_Map</a>)
        
       </li>
       
       
       
       <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          <p>A dictionary mapping the contact handles to contact attributes,
            equivalent to the result of <a href="Connection_Interface_Contacts.html#Method:GetContactAttributes" namespace="org.freedesktop.Telepathy.Connection.Interface.Contacts" title="Method org.freedesktop.Telepathy.Connection.Interface.Contacts.GetContactAttributes">GetContactAttributes</a>.</p>

        </div>
      
      </ul>
     </div>
     

     <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>Return some contact attributes for a list of contacts
          associated with the user. This list MUST include at least:</p>

        <ul>
          <li>all contacts whose <a href="Connection_Interface_Contact_List.html#Contact-Attribute:subscribe" title="Contact Attribute org.freedesktop.Telepathy.Connection.Interface.ContactList/subscribe">subscribe</a>
            attribute is not No</li>
          <li>all contacts whose <a href="Connection_Interface_Contact_List.html#Contact-Attribute:publish" title="Contact Attribute org.freedesktop.Telepathy.Connection.Interface.ContactList/publish">publish</a>
            attribute is not No</li>
        </ul>

        <p>but MAY contain other contacts.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>For instance, on XMPP, all contacts on the roster would appear
            here even if they have subscription=&quot;none&quot;, unless there's
            reason to believe the user does not want to see them (such as
            having been blocked).</p>
        </div></div>

        <p>This list does not need to contain every visible contact: for
          instance, contacts seen in XMPP or IRC chatrooms SHOULD NOT appear
          here. Blocked contacts SHOULD NOT appear here, unless they still
          have a non-<tt>No</tt> <a href="Connection_Interface_Contact_List.html#Contact-Attribute:subscribe" title="Contact Attribute org.freedesktop.Telepathy.Connection.Interface.ContactList/subscribe">subscribe</a> or
          <a href="Connection_Interface_Contact_List.html#Contact-Attribute:publish" title="Contact Attribute org.freedesktop.Telepathy.Connection.Interface.ContactList/publish">publish</a> attribute
          for some reason.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>It's reasonable to assume that blocked contacts should not be
            visible to the user unless they specifically go looking for them,
            at least in protocols like XMPP where blocking a contact
            suppresses presence.</p>
        </div></div>
      </div>

     
     <hr/>
     <div class="indent">
      <h3>Possible Errors</h3>
      <ul>
      
       <li><a href="errors.html#Error:Network Error" title="Error org.freedesktop.Telepathy.Error.NetworkError">Network Error</a></li>
       
       
       
       <div class="docstring">
    Raised when there is an error reading from or writing to the network.
    </div>
      
       <li><a href="errors.html#Error:Not Implemented" title="Error org.freedesktop.Telepathy.Error.NotImplemented">Not Implemented</a></li>
       
       
       
       <div class="docstring">
    Raised when the requested method, channel, etc is not available on this connection.
    </div>
      
       <li><a href="errors.html#Error:Not Available" title="Error org.freedesktop.Telepathy.Error.NotAvailable">Not Available</a></li>
       
       
       
       <div class="docstring">
    Raised when the requested functionality is temporarily unavailable.
    </div>
      
       <li><a href="errors.html#Error:Service Busy" title="Error org.freedesktop.Telepathy.Error.ServiceBusy">Service Busy</a></li>
       
       
       
       <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
      Raised if a server or some other piece of infrastructure cannot process
      the request, e.g. due to resource limitations. Clients MAY try again
      later.

      <div class="rationale"><h5>Rationale:</h5><div>
        This is not the same error as Busy, which indicates that a
        <em>user</em> is busy.
      </div></div>
    </div>
      
       <li><a href="errors.html#Error:Not Yet" title="Error org.freedesktop.Telepathy.Error.NotYet">Not Yet</a></li>
       
       
       
       <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
            <p>The <a href="Connection_Interface_Contact_List.html#Property:ContactListState" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactListState">ContactListState</a> is
              None or Waiting. In particular, this error is raised if the
              <a href="Connection.html#Property:Status" namespace="ofdT.Connection" title="Property org.freedesktop.Telepathy.Connection.Status">Status</a>
              is not yet Connection_Status_Connected.</p>
          </div>
      
      </ul>
     </div>
     
    </div>
    
    <div class="inset method">
     <a name="Method:RequestSubscription"></a>
     <span class="permalink">(<a href="Connection_Interface_Contact_List.html#Method:RequestSubscription">Permalink</a>)</span>
     <h2>RequestSubscription (au: Contacts, s: Message) &#8594; nothing</h2>

     
     
     

     

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
        Contacts &mdash; au
        
          (<a href="Connection.html#Simple-Type:Contact_Handle" title="Array of Simple Type Contact_Handle">Contact_Handle_List</a>)
        
       </li>
       
       
       
       <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          <p>One or more contacts to whom requests are to be sent.</p>
        </div>
      
       <li>
        Message &mdash; s
        
       </li>
       
       
       
       <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          <p>An optional plain-text message from the user, to send to those
            contacts with the subscription request. The
            <a href="Connection_Interface_Contact_List.html#Property:RequestUsesMessage" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.RequestUsesMessage">RequestUsesMessage</a> property
            indicates whether this message will be used or ignored.</p>

          <p>Clients SHOULD NOT send a non-empty message without first giving
            the user an opportunity to edit it.</p>

          <div class="rationale"><h5>Rationale:</h5><div>
            <p>These messages are typically presented to the remote contact
              as if the user had typed them, so as a minimum, the user should be
              allowed to see what the UI will be saying on their behalf.</p>
          </div></div>

          <p>Connections where this message is not useful MUST still allow it to
            be non-empty.</p>
        </div>
      
      </ul>
     </div>
     

     

     <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>Request that the given contacts allow the local user to
          subscribe to their presence, i.e. that their subscribe attribute
          becomes Yes.</p>

        <p>Connection managers SHOULD NOT attempt to enforce a
          mutual-subscription policy (i.e. when this method is called, they
          should not automatically allow the contacts to see the local user's
          presence). User interfaces that require mutual subscription
          MAY call <a href="Connection_Interface_Contact_List.html#Method:AuthorizePublication" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.AuthorizePublication">AuthorizePublication</a>
          at the same time as this method.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>Whether to enforce mutual subscription is a matter of policy,
            so it is left to the user interface and/or the server.</p>
        </div></div>

        <p>Before calling this method on a connection where <a href="Connection_Interface_Aliasing.html#Method:GetAliasFlags" namespace="org.freedesktop.Telepathy.Connection.Interface.Aliasing" title="Method org.freedesktop.Telepathy.Connection.Interface.Aliasing.GetAliasFlags">GetAliasFlags</a> returns the <code>User_Set</code> flag,
          user interfaces SHOULD obtain, from the user, an alias to
          identify the contact in future, and store it using <a href="Connection_Interface_Aliasing.html#Method:SetAliases" namespace="org.freedesktop.Telepathy.Connection.Interface.Aliasing" title="Method org.freedesktop.Telepathy.Connection.Interface.Aliasing.SetAliases">SetAliases</a>.</p>

        <p>The user MAY be
          prompted using the contact's current self-assigned nickname, or
          something derived from the contact's (presumably self-assigned)
          identifier, as a default, but these names chosen by the contact
          SHOULD NOT be used without user approval.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>This is a generalization of
            <a href="http://xmpp.org/extensions/xep-0165.html">XEP-0165 &quot;Best Practices to Discourage JID Mimicking&quot;</a>)
            to protocols other than XMPP. A reasonable user interface for
            this, as used in many XMPP clients, is to have a text entry
            for the alias adjacent to the text entry for the identifier
            to add.</p>
        </div></div>

        <p>For contacts with subscribe=Yes, this method has no effect.
          It MUST return successfully if all contacts are in this state.</p>

        <p>For contacts with subscribe=Ask, this method SHOULD send a new
          request, with the given message, if allowed by the underlying
          protocol.</p>

        <p>For contacts with subscribe=No or subscribe=Rejected, this method
          SHOULD request that the contact allows the local user to subscribe
          to their presence; in general, this will change their publish
          attribute to Ask (although it could change directly to Yes in some
          situations).</p>

        <p>Any state changes that immediately result from this request MUST
          be signalled via <a href="Connection_Interface_Contact_List.html#Signal:ContactsChanged" title="Signal org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactsChanged">ContactsChanged</a>
          before this method returns.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>This makes it easy for user interfaces to see what practical
            effect this method had.</p>
        </div></div>

        <p>If the remote contact accepts the request, their subscribe
          attribute will later change from Ask to Yes.</p>

        <p>If the remote contact explicitly rejects the request (in protocols
          that allow this), their subscribe attribute will later change from
          Ask to Rejected.</p>

        <p>If the subscription request is cancelled by the local user, the
          contact's subscribe attribute will change from Ask to No.</p>

        <p>This method SHOULD NOT be called until the
          <a href="Connection_Interface_Contact_List.html#Property:ContactListState" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactListState">ContactListState</a> changes to Success.
          If the <a href="Connection_Interface_Contact_List.html#Property:ContactListState" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactListState">ContactListState</a> changes to
          Failure, this method SHOULD raise the same error as
          <a href="Connection_Interface_Contact_List.html#Method:GetContactListAttributes" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.GetContactListAttributes">GetContactListAttributes</a>.</p>
      </div>

     
     <hr/>
     <div class="indent">
      <h3>Possible Errors</h3>
      <ul>
      
       <li><a href="errors.html#Error:Disconnected" title="Error org.freedesktop.Telepathy.Error.Disconnected">Disconnected</a></li>
       
       
       
       <div class="docstring">
      The connection is not currently connected and cannot be used.
      This error may also be raised when operations are performed on a
      Connection for which
      <a href="Connection.html#Signal:StatusChanged" namespace="org.freedesktop.Telepathy.Connection" title="Signal org.freedesktop.Telepathy.Connection.StatusChanged">StatusChanged</a>
      has signalled status Disconnected for reason None.

      <div class="rationale"><h5>Rationale:</h5><div>
        The second usage corresponds to None in the
        <a href="Connection.html#Enum:Connection_Status_Reason">Connection_Status_Reason</a> enum; if a better reason
        is available, the corresponding error should be used instead.
      </div></div>
    </div>
      
       <li><a href="errors.html#Error:Invalid Handle" title="Error org.freedesktop.Telepathy.Error.InvalidHandle">Invalid Handle</a></li>
       
       
       
       <div class="docstring">
    The handle specified is unknown on this channel or connection.
    </div>
      
       <li><a href="errors.html#Error:Network Error" title="Error org.freedesktop.Telepathy.Error.NetworkError">Network Error</a></li>
       
       
       
       <div class="docstring">
    Raised when there is an error reading from or writing to the network.
    </div>
      
       <li><a href="errors.html#Error:Not Yet" title="Error org.freedesktop.Telepathy.Error.NotYet">Not Yet</a></li>
       
       
       
       <div class="docstring">
            The <a href="Connection_Interface_Contact_List.html#Property:ContactListState" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactListState">ContactListState</a> is None
            or Waiting.
          </div>
      
       <li><a href="errors.html#Error:Not Implemented" title="Error org.freedesktop.Telepathy.Error.NotImplemented">Not Implemented</a></li>
       
       
       
       <div class="docstring">
            It was not possible to perform the requested action, because
            <a href="Connection_Interface_Contact_List.html#Property:CanChangeContactList" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.CanChangeContactList">CanChangeContactList</a> is false.
          </div>
      
      </ul>
     </div>
     
    </div>
    
    <div class="inset method">
     <a name="Method:AuthorizePublication"></a>
     <span class="permalink">(<a href="Connection_Interface_Contact_List.html#Method:AuthorizePublication">Permalink</a>)</span>
     <h2>AuthorizePublication (au: Contacts) &#8594; nothing</h2>

     
     
     

     

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
        Contacts &mdash; au
        
          (<a href="Connection.html#Simple-Type:Contact_Handle" title="Array of Simple Type Contact_Handle">Contact_Handle_List</a>)
        
       </li>
       
       
       
       <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          <p>One or more contacts to authorize.</p>
        </div>
      
      </ul>
     </div>
     

     

     <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>For each of the given contacts, request that the local user's
          presence is sent to that contact, i.e. that their publish attribute
          becomes Yes.</p>

        <p>Connection managers SHOULD NOT attempt to enforce a
          mutual-subscription policy (i.e. when this method is called, they
          should not automatically request that the contacts allow the user to
          subscribe to their presence). User interfaces that require mutual
          subscription MAY call
          <a href="Connection_Interface_Contact_List.html#Method:RequestSubscription" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.RequestSubscription">RequestSubscription</a> at the same time
          as this method.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>Whether to enforce mutual subscription is a matter of policy,
            so it is left to the user interface and/or the server.</p>
        </div></div>

        <p>For contacts with publish=Yes, this method has no effect; it
          MUST return successfully if all contacts given have this state.</p>

        <p>For contacts with publish=Ask, this method accepts the
          contact's request to see the local user's presence, changing
          their publish attribute from Ask to Yes.</p>

        <p>For contacts with publish=No, if the protocol allows it, this
          method allows the contacts to see the local user's presence even
          though they have not requested it, changing their publish attribute
          from No to Yes. Otherwise, it merely records the fact that
          presence publication to those contacts is allowed; if any of
          those contacts ask to receive the local user's presence
          later in the lifetime of the connection, the connection SHOULD
          immediately allow them to do so, changing their publish
          attribute directly from No to Yes.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>This makes it easy to implement the common UI policy that if
            the user attempts to subscribe to a contact's presence, requests
            for reciprocal subscription are automatically approved.</p>
        </div></div>

        <p>Any state changes that immediately result from this request MUST
          be signalled via <a href="Connection_Interface_Contact_List.html#Signal:ContactsChanged" title="Signal org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactsChanged">ContactsChanged</a>
          before this method returns.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>This makes it easy for user interfaces to see what practical
            effect this method had.</p>
        </div></div>

        <p>This method SHOULD NOT be called until the
          <a href="Connection_Interface_Contact_List.html#Property:ContactListState" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactListState">ContactListState</a> changes to Success.
          If the <a href="Connection_Interface_Contact_List.html#Property:ContactListState" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactListState">ContactListState</a> changes to
          Failure, this method SHOULD raise the same error as
          <a href="Connection_Interface_Contact_List.html#Method:GetContactListAttributes" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.GetContactListAttributes">GetContactListAttributes</a>.</p>
      </div>

     
     <hr/>
     <div class="indent">
      <h3>Possible Errors</h3>
      <ul>
      
       <li><a href="errors.html#Error:Disconnected" title="Error org.freedesktop.Telepathy.Error.Disconnected">Disconnected</a></li>
       
       
       
       <div class="docstring">
      The connection is not currently connected and cannot be used.
      This error may also be raised when operations are performed on a
      Connection for which
      <a href="Connection.html#Signal:StatusChanged" namespace="org.freedesktop.Telepathy.Connection" title="Signal org.freedesktop.Telepathy.Connection.StatusChanged">StatusChanged</a>
      has signalled status Disconnected for reason None.

      <div class="rationale"><h5>Rationale:</h5><div>
        The second usage corresponds to None in the
        <a href="Connection.html#Enum:Connection_Status_Reason">Connection_Status_Reason</a> enum; if a better reason
        is available, the corresponding error should be used instead.
      </div></div>
    </div>
      
       <li><a href="errors.html#Error:Invalid Handle" title="Error org.freedesktop.Telepathy.Error.InvalidHandle">Invalid Handle</a></li>
       
       
       
       <div class="docstring">
    The handle specified is unknown on this channel or connection.
    </div>
      
       <li><a href="errors.html#Error:Network Error" title="Error org.freedesktop.Telepathy.Error.NetworkError">Network Error</a></li>
       
       
       
       <div class="docstring">
    Raised when there is an error reading from or writing to the network.
    </div>
      
       <li><a href="errors.html#Error:Not Implemented" title="Error org.freedesktop.Telepathy.Error.NotImplemented">Not Implemented</a></li>
       
       
       
       <div class="docstring">
            It was not possible to perform the requested action, because
            <a href="Connection_Interface_Contact_List.html#Property:CanChangeContactList" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.CanChangeContactList">CanChangeContactList</a> is false.
          </div>
      
       <li><a href="errors.html#Error:Not Yet" title="Error org.freedesktop.Telepathy.Error.NotYet">Not Yet</a></li>
       
       
       
       <div class="docstring">
            The <a href="Connection_Interface_Contact_List.html#Property:ContactListState" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactListState">ContactListState</a> is None
            or Waiting.
          </div>
      
      </ul>
     </div>
     
    </div>
    
    <div class="inset method">
     <a name="Method:RemoveContacts"></a>
     <span class="permalink">(<a href="Connection_Interface_Contact_List.html#Method:RemoveContacts">Permalink</a>)</span>
     <h2>RemoveContacts (au: Contacts) &#8594; nothing</h2>

     
     
     

     

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
        Contacts &mdash; au
        
          (<a href="Connection.html#Simple-Type:Contact_Handle" title="Array of Simple Type Contact_Handle">Contact_Handle_List</a>)
        
       </li>
       
       
       
       <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          <p>One or more contacts to remove.</p>
        </div>
      
      </ul>
     </div>
     

     

     <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>Remove the given contacts from the contact list entirely. It is
          protocol-dependent whether this works, and under which
          circumstances.</p>

        <p>If possible, this method SHOULD set the contacts' subscribe and
          publish attributes to No, remove any stored aliases for those
          contacts, and remove the contacts from the result of
          <a href="Connection_Interface_Contact_List.html#Method:GetContactListAttributes" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.GetContactListAttributes">GetContactListAttributes</a>.</p>

        <p>This method SHOULD succeed even if it was not possible to carry out
          the request entirely or for all contacts (for instance, if there is an
          outstanding request to subscribe to the contact's presence, and it's
          not possible to cancel such requests). However, all signals that
          immediately result from this method call MUST be emitted before it
          returns, so that clients can interpret the result.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>User interfaces removing a contact from the contact list are
            unlikely to want spurious failure notifications resulting from
            limitations of a particular protocol. However, emitting the
            signals first means that if a client does want to check exactly
            what happened, it can wait for the method to return (while
            applying change-notification signals to its local cache of the
            contact list's state), then consult its local cache of the
            contact list's state to see whether the contact is still there.</p>
        </div></div>

        <p>This method SHOULD NOT be called until the
          <a href="Connection_Interface_Contact_List.html#Property:ContactListState" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactListState">ContactListState</a> changes to Success.
          If the <a href="Connection_Interface_Contact_List.html#Property:ContactListState" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactListState">ContactListState</a> changes to
          Failure, this method SHOULD raise the same error as
          <a href="Connection_Interface_Contact_List.html#Method:GetContactListAttributes" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.GetContactListAttributes">GetContactListAttributes</a>.</p>
      </div>

     
     <hr/>
     <div class="indent">
      <h3>Possible Errors</h3>
      <ul>
      
       <li><a href="errors.html#Error:Disconnected" title="Error org.freedesktop.Telepathy.Error.Disconnected">Disconnected</a></li>
       
       
       
       <div class="docstring">
      The connection is not currently connected and cannot be used.
      This error may also be raised when operations are performed on a
      Connection for which
      <a href="Connection.html#Signal:StatusChanged" namespace="org.freedesktop.Telepathy.Connection" title="Signal org.freedesktop.Telepathy.Connection.StatusChanged">StatusChanged</a>
      has signalled status Disconnected for reason None.

      <div class="rationale"><h5>Rationale:</h5><div>
        The second usage corresponds to None in the
        <a href="Connection.html#Enum:Connection_Status_Reason">Connection_Status_Reason</a> enum; if a better reason
        is available, the corresponding error should be used instead.
      </div></div>
    </div>
      
       <li><a href="errors.html#Error:Invalid Handle" title="Error org.freedesktop.Telepathy.Error.InvalidHandle">Invalid Handle</a></li>
       
       
       
       <div class="docstring">
    The handle specified is unknown on this channel or connection.
    </div>
      
       <li><a href="errors.html#Error:Network Error" title="Error org.freedesktop.Telepathy.Error.NetworkError">Network Error</a></li>
       
       
       
       <div class="docstring">
    Raised when there is an error reading from or writing to the network.
    </div>
      
       <li><a href="errors.html#Error:Not Implemented" title="Error org.freedesktop.Telepathy.Error.NotImplemented">Not Implemented</a></li>
       
       
       
       <div class="docstring">
            It was not possible to perform the requested action because
            <a href="Connection_Interface_Contact_List.html#Property:CanChangeContactList" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.CanChangeContactList">CanChangeContactList</a> is false.
          </div>
      
       <li><a href="errors.html#Error:Not Yet" title="Error org.freedesktop.Telepathy.Error.NotYet">Not Yet</a></li>
       
       
       
       <div class="docstring">
            The <a href="Connection_Interface_Contact_List.html#Property:ContactListState" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactListState">ContactListState</a> is None
            or Waiting.
          </div>
      
      </ul>
     </div>
     
    </div>
    
    <div class="inset method">
     <a name="Method:Unsubscribe"></a>
     <span class="permalink">(<a href="Connection_Interface_Contact_List.html#Method:Unsubscribe">Permalink</a>)</span>
     <h2>Unsubscribe (au: Contacts) &#8594; nothing</h2>

     
     
     

     

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
        Contacts &mdash; au
        
          (<a href="Connection.html#Simple-Type:Contact_Handle" title="Array of Simple Type Contact_Handle">Contact_Handle_List</a>)
        
       </li>
       
       
       
       <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          <p>One or more contacts to remove.</p>
        </div>
      
      </ul>
     </div>
     

     

     <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>Attempt to set the given contacts' subscribe attribute to No,
          i.e. stop receiving their presence.</p>

        <p>For contacts with subscribe=Ask, this attempts to cancel
          an earlier request to subscribe to the contact's presence; for
          contacts with subscribe=Yes, this attempts to
          unsubscribe from the contact's presence.</p>

        <p>As with <a href="Connection_Interface_Contact_List.html#Method:RemoveContacts" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.RemoveContacts">RemoveContacts</a>, this method
          SHOULD succeed even if it was not possible to carry out the request
          entirely or for all contacts; however, all signals that
          immediately result from this method call MUST be emitted before it
          returns.</p>

        <p>This method SHOULD NOT be called until the
          <a href="Connection_Interface_Contact_List.html#Property:ContactListState" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactListState">ContactListState</a> changes to Success.
          If the <a href="Connection_Interface_Contact_List.html#Property:ContactListState" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactListState">ContactListState</a> changes to
          Failure, this method SHOULD raise the same error as
          <a href="Connection_Interface_Contact_List.html#Method:GetContactListAttributes" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.GetContactListAttributes">GetContactListAttributes</a>.</p>
      </div>

     
     <hr/>
     <div class="indent">
      <h3>Possible Errors</h3>
      <ul>
      
       <li><a href="errors.html#Error:Disconnected" title="Error org.freedesktop.Telepathy.Error.Disconnected">Disconnected</a></li>
       
       
       
       <div class="docstring">
      The connection is not currently connected and cannot be used.
      This error may also be raised when operations are performed on a
      Connection for which
      <a href="Connection.html#Signal:StatusChanged" namespace="org.freedesktop.Telepathy.Connection" title="Signal org.freedesktop.Telepathy.Connection.StatusChanged">StatusChanged</a>
      has signalled status Disconnected for reason None.

      <div class="rationale"><h5>Rationale:</h5><div>
        The second usage corresponds to None in the
        <a href="Connection.html#Enum:Connection_Status_Reason">Connection_Status_Reason</a> enum; if a better reason
        is available, the corresponding error should be used instead.
      </div></div>
    </div>
      
       <li><a href="errors.html#Error:Invalid Handle" title="Error org.freedesktop.Telepathy.Error.InvalidHandle">Invalid Handle</a></li>
       
       
       
       <div class="docstring">
    The handle specified is unknown on this channel or connection.
    </div>
      
       <li><a href="errors.html#Error:Network Error" title="Error org.freedesktop.Telepathy.Error.NetworkError">Network Error</a></li>
       
       
       
       <div class="docstring">
    Raised when there is an error reading from or writing to the network.
    </div>
      
       <li><a href="errors.html#Error:Not Implemented" title="Error org.freedesktop.Telepathy.Error.NotImplemented">Not Implemented</a></li>
       
       
       
       <div class="docstring">
            It was not possible to perform the requested action because
            <a href="Connection_Interface_Contact_List.html#Property:CanChangeContactList" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.CanChangeContactList">CanChangeContactList</a> is false.
          </div>
      
      </ul>
     </div>
     
    </div>
    
    <div class="inset method">
     <a name="Method:Unpublish"></a>
     <span class="permalink">(<a href="Connection_Interface_Contact_List.html#Method:Unpublish">Permalink</a>)</span>
     <h2>Unpublish (au: Contacts) &#8594; nothing</h2>

     
     
     

     

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
        Contacts &mdash; au
        
          (<a href="Connection.html#Simple-Type:Contact_Handle" title="Array of Simple Type Contact_Handle">Contact_Handle_List</a>)
        
       </li>
       
       
       
       <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          <p>One or more contacts to remove.</p>
        </div>
      
      </ul>
     </div>
     

     

     <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>Attempt to set the given contacts' publish attribute to No,
          i.e. stop sending presence to them.</p>

        <p>For contacts with publish=Ask, this method explicitly rejects the
          contact's request to subscribe to the user's presence; for
          contacts with publish=Yes, this method attempts to prevent the
          user's presence from being received by the contact.</p>

        <p>As with <a href="Connection_Interface_Contact_List.html#Method:RemoveContacts" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.RemoveContacts">RemoveContacts</a>, this method
          SHOULD succeed even if it was not possible to carry out the request
          entirely or for all contacts; however, all signals that
          immediately result from this method call MUST be emitted before it
          returns.</p>

        <p>This method SHOULD NOT be called until the
          <a href="Connection_Interface_Contact_List.html#Property:ContactListState" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactListState">ContactListState</a> changes to Success.
          If the <a href="Connection_Interface_Contact_List.html#Property:ContactListState" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactListState">ContactListState</a> changes to
          Failure, this method SHOULD raise the same error as
          <a href="Connection_Interface_Contact_List.html#Method:GetContactListAttributes" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.GetContactListAttributes">GetContactListAttributes</a>.</p>
      </div>

     
     <hr/>
     <div class="indent">
      <h3>Possible Errors</h3>
      <ul>
      
       <li><a href="errors.html#Error:Disconnected" title="Error org.freedesktop.Telepathy.Error.Disconnected">Disconnected</a></li>
       
       
       
       <div class="docstring">
      The connection is not currently connected and cannot be used.
      This error may also be raised when operations are performed on a
      Connection for which
      <a href="Connection.html#Signal:StatusChanged" namespace="org.freedesktop.Telepathy.Connection" title="Signal org.freedesktop.Telepathy.Connection.StatusChanged">StatusChanged</a>
      has signalled status Disconnected for reason None.

      <div class="rationale"><h5>Rationale:</h5><div>
        The second usage corresponds to None in the
        <a href="Connection.html#Enum:Connection_Status_Reason">Connection_Status_Reason</a> enum; if a better reason
        is available, the corresponding error should be used instead.
      </div></div>
    </div>
      
       <li><a href="errors.html#Error:Invalid Handle" title="Error org.freedesktop.Telepathy.Error.InvalidHandle">Invalid Handle</a></li>
       
       
       
       <div class="docstring">
    The handle specified is unknown on this channel or connection.
    </div>
      
       <li><a href="errors.html#Error:Network Error" title="Error org.freedesktop.Telepathy.Error.NetworkError">Network Error</a></li>
       
       
       
       <div class="docstring">
    Raised when there is an error reading from or writing to the network.
    </div>
      
       <li><a href="errors.html#Error:Not Implemented" title="Error org.freedesktop.Telepathy.Error.NotImplemented">Not Implemented</a></li>
       
       
       
       <div class="docstring">
            It was not possible to perform the requested action because
            <a href="Connection_Interface_Contact_List.html#Property:CanChangeContactList" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.CanChangeContactList">CanChangeContactList</a> is false.
          </div>
      
       <li><a href="errors.html#Error:Not Yet" title="Error org.freedesktop.Telepathy.Error.NotYet">Not Yet</a></li>
       
       
       
       <div class="docstring">
            The <a href="Connection_Interface_Contact_List.html#Property:ContactListState" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactListState">ContactListState</a> is None
            or Waiting.
          </div>
      
      </ul>
     </div>
     
    </div>
    
    <div class="inset method">
     <a name="Method:Download"></a>
     <span class="permalink">(<a href="Connection_Interface_Contact_List.html#Method:Download">Permalink</a>)</span>
     <h2>Download () &#8594; nothing</h2>

     <div class="annotation added"><span class="version">Added in 0.25.2. </span></div>
     
     

     

     

     

     <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>Download the contact list from the server. If
          <a href="Connection_Interface_Contact_List.html#Property:DownloadAtConnection" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.DownloadAtConnection">DownloadAtConnection</a> is true,
          Download does nothing.</p>
      </div>

     
     <hr/>
     <div class="indent">
      <h3>Possible Errors</h3>
      <ul>
      
       <li><a href="errors.html#Error:Disconnected" title="Error org.freedesktop.Telepathy.Error.Disconnected">Disconnected</a></li>
       
       
       
       <div class="docstring">
      The connection is not currently connected and cannot be used.
      This error may also be raised when operations are performed on a
      Connection for which
      <a href="Connection.html#Signal:StatusChanged" namespace="org.freedesktop.Telepathy.Connection" title="Signal org.freedesktop.Telepathy.Connection.StatusChanged">StatusChanged</a>
      has signalled status Disconnected for reason None.

      <div class="rationale"><h5>Rationale:</h5><div>
        The second usage corresponds to None in the
        <a href="Connection.html#Enum:Connection_Status_Reason">Connection_Status_Reason</a> enum; if a better reason
        is available, the corresponding error should be used instead.
      </div></div>
    </div>
      
       <li><a href="errors.html#Error:Network Error" title="Error org.freedesktop.Telepathy.Error.NetworkError">Network Error</a></li>
       
       
       
       <div class="docstring">
    Raised when there is an error reading from or writing to the network.
    </div>
      
       <li><a href="errors.html#Error:Not Implemented" title="Error org.freedesktop.Telepathy.Error.NotImplemented">Not Implemented</a></li>
       
       
       
       <div class="docstring">
    Raised when the requested method, channel, etc is not available on this connection.
    </div>
      
      </ul>
     </div>
     
    </div>
    
   </div>
   

   
   <div class="outset signals signal">
    <a name="signals"></a>
    <h1>Signals</h1>
    
    <div class="inset signal">
     <a name="Signal:ContactListStateChanged"></a>
     <span class="permalink">(<a href="Connection_Interface_Contact_List.html#Signal:ContactListStateChanged">Permalink</a>)</span>
     <h2>ContactListStateChanged (u: Contact_List_State)</h2>

     
     
     

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
       Contact_List_State &mdash; u
       
        (<a href="Connection_Interface_Contact_List.html#Enum:Contact_List_State" title="Enum Contact_List_State">Contact_List_State</a>)
       
       </li>
       
       
       
       <div class="docstring">
          The new value of <a href="Connection_Interface_Contact_List.html#Property:ContactListState" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactListState">ContactListState</a>.
        </div>
      
      </ul>
     </div>
     

     <div class="docstring">
        Emitted when <a href="Connection_Interface_Contact_List.html#Property:ContactListState" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactListState">ContactListState</a>
        changes.
      </div>
    </div>
    
    <div class="inset signal">
     <a name="Signal:ContactsChangedWithID"></a>
     <span class="permalink">(<a href="Connection_Interface_Contact_List.html#Signal:ContactsChangedWithID">Permalink</a>)</span>
     <h2>ContactsChangedWithID (a{u(uus)}: Changes, a{us}: Identifiers, a{us}: Removals)</h2>

     <div class="annotation added"><span class="version">Added in 0.21.8. </span></div>
     
     

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
       Changes &mdash; a{u(uus)}
       
        (<a href="Connection_Interface_Contact_List.html#Mapping:Contact_Subscription_Map" title="Mapping Contact_Subscription_Map">Contact_Subscription_Map</a>)
       
       </li>
       
       
       
       <div class="docstring">
          The new <a href="Connection_Interface_Contact_List.html#Contact-Attribute:subscribe" title="Contact Attribute org.freedesktop.Telepathy.Connection.Interface.ContactList/subscribe">subscribe</a>,
            <a href="Connection_Interface_Contact_List.html#Contact-Attribute:publish" title="Contact Attribute org.freedesktop.Telepathy.Connection.Interface.ContactList/publish">publish</a> and
            <a href="Connection_Interface_Contact_List.html#Contact-Attribute:publish-request" title="Contact Attribute org.freedesktop.Telepathy.Connection.Interface.ContactList/publish-request">publish-request</a> attributes of all the
          contacts that have been added, and all the contacts for which those
          attributes have changed.
        </div>
      
       <li>
       Identifiers &mdash; a{us}
       
        (<a href="Channel_Interface_Group.html#Mapping:Handle_Identifier_Map" title="Mapping Handle_Identifier_Map">Handle_Identifier_Map</a>)
       
       </li>
       
       
       
       <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          The identifiers of the contacts in the <var>Changes</var> map.
        </div>
      
       <li>
       Removals &mdash; a{us}
       
        (<a href="Channel_Interface_Group.html#Mapping:Handle_Identifier_Map" title="Mapping Handle_Identifier_Map">Handle_Identifier_Map</a>)
       
       </li>
       
       
       
       <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          The contacts that have been removed from the list that would be
          returned by
          <a href="Connection_Interface_Contact_List.html#Method:GetContactListAttributes" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.GetContactListAttributes">GetContactListAttributes</a>.
          This also implies that they have subscribe = No and publish = No;
          contacts MUST NOT be listed both here and in <var>Changes</var>.
        </div>
      
      </ul>
     </div>
     

     <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>Emitted when the contact list becomes available, when contacts'
          basic stored properties change, when new contacts are added to the
          list that would be returned by
          <a href="Connection_Interface_Contact_List.html#Method:GetContactListAttributes" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.GetContactListAttributes">GetContactListAttributes</a>,
          or when contacts are removed from that list.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>This provides change notification for that list, and for
            contacts' <a href="Connection_Interface_Contact_List.html#Contact-Attribute:subscribe" title="Contact Attribute org.freedesktop.Telepathy.Connection.Interface.ContactList/subscribe">subscribe</a>,
            <a href="Connection_Interface_Contact_List.html#Contact-Attribute:publish" title="Contact Attribute org.freedesktop.Telepathy.Connection.Interface.ContactList/publish">publish</a> and
            <a href="Connection_Interface_Contact_List.html#Contact-Attribute:publish-request" title="Contact Attribute org.freedesktop.Telepathy.Connection.Interface.ContactList/publish-request">publish-request</a> attributes.</p>
        </div></div>

        <p>Connection managers SHOULD also emit this signal when a contact
          requests that the user's presence is published to them, even if
          that contact's <tp:token>publish</tp:token> attribute is already
          Ask and the <tp:token>publish-request</tp:token> has not changed.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>If the same contact sends 10 identical requests, 10 identical
            signals should be emitted.</p>
        </div></div>
      </div>
    </div>
    
    <div class="inset signal">
     <a name="Signal:ContactsChanged"></a>
     <span class="permalink">(<a href="Connection_Interface_Contact_List.html#Signal:ContactsChanged">Permalink</a>)</span>
     <h2>ContactsChanged (a{u(uus)}: Changes, au: Removals)</h2>

     
     
     <div class="annotation deprecated"><span class="version">Deprecated since 0.21.8. </span>Connection managers MUST still
        emit this signal, but clients SHOULD listen for the
        <a href="Connection_Interface_Contact_List.html#Signal:ContactsChangedWithID" title="Signal org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactsChangedWithID">ContactsChangedWithID</a> signal in
        addition, and ignore this signal after ContactsChangedWithID has been
        emitted at least once.
      </div>

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
       Changes &mdash; a{u(uus)}
       
        (<a href="Connection_Interface_Contact_List.html#Mapping:Contact_Subscription_Map" title="Mapping Contact_Subscription_Map">Contact_Subscription_Map</a>)
       
       </li>
       
       
       
       <div class="docstring">
          The same as the corresponding argument to
          <a href="Connection_Interface_Contact_List.html#Signal:ContactsChangedWithID" title="Signal org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactsChangedWithID">ContactsChangedWithID</a>.
        </div>
      
       <li>
       Removals &mdash; au
       
        (<a href="Connection.html#Simple-Type:Contact_Handle" title="Array of Simple Type Contact_Handle">Contact_Handle_List</a>)
       
       </li>
       
       
       
       <div class="docstring">
          The same as the corresponding argument to
          <a href="Connection_Interface_Contact_List.html#Signal:ContactsChangedWithID" title="Signal org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactsChangedWithID">ContactsChangedWithID</a>, except that it
          only includes handles and not identifiers.
        </div>
      
      </ul>
     </div>
     

     <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>Emitted immediately after
          <a href="Connection_Interface_Contact_List.html#Signal:ContactsChangedWithID" title="Signal org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactsChangedWithID">ContactsChangedWithID</a>, under the same
          circumstances.</p>

        <p>If clients receive this signal without first receiving a
          corresponding <a href="Connection_Interface_Contact_List.html#Signal:ContactsChangedWithID" title="Signal org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactsChangedWithID">ContactsChangedWithID</a>,
          they MUST assume that only this signal will be emitted.</p>
      </div>
    </div>
    
   </div>
   

   
   <div class="outset properties property">
    <a name="properties"></a>
    <h1>Properties</h1>
    <div>
     Accessed using the <a
       href="http://dbus.freedesktop.org/doc/dbus-specification.html#standard-interfaces-properties">org.freedesktop.DBus.Properties</a>
     interface.
    </div>
    
    <div class="inset property">
     <a name="Property:ContactListState"></a>
     <span class="permalink">(<a href="Connection_Interface_Contact_List.html#Property:ContactListState">Permalink</a>)</span>
     <h2>
      ContactListState &mdash; u
      
        (<a href="Connection_Interface_Contact_List.html#Enum:Contact_List_State" title="Enum Contact_List_State">Contact_List_State</a>)
      
     </h2>
      <div class="access">Read only</div>

     

     

     
     
     

     
     
     

      

     <div class="docstring">
        The progress made in retrieving the contact list.
        Change notification is via
        <a href="Connection_Interface_Contact_List.html#Signal:ContactListStateChanged" title="Signal org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactListStateChanged">ContactListStateChanged</a>.
      </div>
    </div>
    
    <div class="inset property">
     <a name="Property:ContactListPersists"></a>
     <span class="permalink">(<a href="Connection_Interface_Contact_List.html#Property:ContactListPersists">Permalink</a>)</span>
     <h2>
      ContactListPersists &mdash; b
      
     </h2>
      <div class="access">Read only</div>

     

     

     
     
     

     
     
     

      

     <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>If true, presence subscriptions (in both directions) on this
          connection are stored by the server or other infrastructure.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>XMPP, MSN, ICQ, etc. all behave like this.</p>
        </div></div>

        <p>If false, presence subscriptions on this connection are not
          stored.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>In SIMPLE (SIP), <em>clients</em> are expected to keep a record
            of subscriptions, as described below. In link-local XMPP,
            subscriptions are implicit (everyone on the local network receives
            presence from everyone else) so nothing is ever stored.</p>
        </div></div>

        <p>If <a href="Connection_Interface_Contact_List.html#Property:CanChangeContactList" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.CanChangeContactList">CanChangeContactList</a>
          is true, Telepathy clients (e.g. user interfaces or address books)
          MAY keep a record of permission to publish and requests to subscribe
          locally, and attempt to restore it for each Connection. If
          ContactListPersists is false, clients MAY do this for all contacts;
          if ContactListPersists is true, clients SHOULD NOT change the state
          of contacts that were not changed locally.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>In SIMPLE (SIP), ContactListPersists is false, but
            CanChangeContactList is true. Presence will not be received
            unless clients renew any subscriptions they have for each
            connection, in the way described. There is no server-side storage,
            so clients have no alternative but to maintain independent contact
            lists.</p>

          <p>In protocols like XMPP and MSN, it may be useful for clients to
            queue up subscription requests or removals made while offline and
            process them next time the connection is online. However, clients
            should only replay the changes, rather than resetting the contact
            list to match a stored copy, to avoid overwriting changes that
            were made on the server.</p>
        </div></div>

        <p>Clients that replay requests like this SHOULD do so by calling
          AuthorizePublication to pre-approve publication of presence to the
          appropriate contacts, followed by RequestSubscription to request the
          appropriate contacts' presences.</p>

        <p>This property cannot change after the connection has moved to the
          Connected state. Until then, its value is undefined, and it may
          change at any time, without notification.</p>
      </div>
    </div>
    
    <div class="inset property">
     <a name="Property:CanChangeContactList"></a>
     <span class="permalink">(<a href="Connection_Interface_Contact_List.html#Property:CanChangeContactList">Permalink</a>)</span>
     <h2>
      CanChangeContactList &mdash; b
      
     </h2>
      <div class="access">Read only</div>

     

     

     
     
     

     
     
     

      

     <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>If true, presence subscription and publication can be changed
          using the
          <a href="Connection_Interface_Contact_List.html#Method:RequestSubscription" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.RequestSubscription">RequestSubscription</a>,
          <a href="Connection_Interface_Contact_List.html#Method:AuthorizePublication" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.AuthorizePublication">AuthorizePublication</a> and
          <a href="Connection_Interface_Contact_List.html#Method:RemoveContacts" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.RemoveContacts">RemoveContacts</a> methods.</p>

        <p>If false, all of those methods will always fail; they SHOULD raise
          the error org.freedesktop.Telepathy.Error.NotImplemented.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>In XEP-0174 &quot;Serverless Messaging&quot; (link-local XMPP), presence is
            implicitly published to everyone in the local subnet, so the user
            cannot control their presence publication.</p>
        </div></div>

        <p>This property cannot change after the connection has moved to the
          Connected state. Until then, its value is undefined, and it may
          change at any time, without notification.</p>
      </div>
    </div>
    
    <div class="inset property">
     <a name="Property:RequestUsesMessage"></a>
     <span class="permalink">(<a href="Connection_Interface_Contact_List.html#Property:RequestUsesMessage">Permalink</a>)</span>
     <h2>
      RequestUsesMessage &mdash; b
      
     </h2>
      <div class="access">Read only</div>

     

     

     
     
     

     
     
     

      

     <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>If true, the Message parameter to
          <a href="Connection_Interface_Contact_List.html#Method:RequestSubscription" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.RequestSubscription">RequestSubscription</a> is likely to be
          significant, and user interfaces SHOULD prompt the user for a
          message to send with the request; a message such as &quot;I would like
          to add you to my contact list&quot;, translated into the local user's
          language, might make a suitable default.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>This matches user expectations in XMPP and ICQ, for instance.</p>
        </div></div>

        <p>If false, the parameter is ignored; user interfaces SHOULD avoid
          prompting the user, and SHOULD pass an empty string to
          RequestSubscription.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p><em>FIXME: is there any such protocol?</em></p>
        </div></div>
      </div>
    </div>
    
    <div class="inset property">
     <a name="Property:DownloadAtConnection"></a>
     <span class="permalink">(<a href="Connection_Interface_Contact_List.html#Property:DownloadAtConnection">Permalink</a>)</span>
     <h2>
      DownloadAtConnection &mdash; b
      
     </h2>
      <div class="access">Read only</div>

     

     

     <div class="annotation added"><span class="version">Added in 0.25.2. </span></div>
     
     

     
     
     

      
      <div class="annotation connection-parameter">
        <p><span class='note'>Note:</span> Connections implementing this
          property SHOULD provide a corresponding parameter named
          <tt>org.freedesktop.Telepathy.Connection.Interface.ContactList.DownloadAtConnection</tt> with the <a
          href="Connection_Manager.html#Conn_Mgr_Param_Flags">DBus_Property</a>
          flag. Clients SHOULD update this property by
          calling <a
            href="Account.html#org.freedesktop.Telepathy.Account.UpdateParameters">UpdateParameters</a>
          on the relevant <a href="Account.html">Account</a> rather than
          setting the property directly; change notification is via <a
            href="Account.html#org.freedesktop.Telepathy.Account.AccountPropertyChanged">AccountPropertyChanged</a>.
          </p>
      </div>
      

     <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>If true, the contact list is automatically downloaded at
          connection. If false, the contact list is only downloaded
          when requested explicitely with
          <a href="Connection_Interface_Contact_List.html#Method:Download" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.Download">Download</a>.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>Downloading the contact list uses bandwidth and is not always
            necessary or desired. For example, a client could cache the
            contact list from previous connections and accept less regular
            updates, it could get the contact list from an out-of-band
            protocol-specific way, or it could not need the contact list at
            all.</p>
        </div></div>

        <p>Connection managers MUST default to true.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>If a connection manager starts supporting this property but
            defaults to false, it would break all existing clients that don't
            call <a href="Connection_Interface_Contact_List.html#Method:Download" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.Download">Download</a>.</p>
        </div></div>
      </div>
    </div>
    
   </div>
   

   
   <div class="outset contact-attributes">
    <a name="contact-attributes"></a>
    <h1>Contact Attributes</h1>
    <div>
      Attributes that a contact can have, accessed with the
      org.freedesktop.Telepathy.Connection.Interface.Contacts interface.
    </div>
    
    <div class="inset contact-attribute">
     <a name="Contact-Attribute:subscribe"></a>
     <span class="permalink">(<a href="Connection_Interface_Contact_List.html#Contact-Attribute:subscribe">Permalink</a>)</span>
     <h2>
      org.freedesktop.Telepathy.Connection.Interface.ContactList/subscribe &mdash; u
      
       (<a href="Connection_Interface_Contact_List.html#Enum:Subscription_State" title="Enum Subscription_State">Subscription_State</a>)
      
     </h2>
     
     
     
     <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>If this attribute on a contact is Yes, this connection can
          expect to receive their presence, along with any other information
          that has the same access control.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>This is subscription=&quot;from&quot; or subscription=&quot;both&quot; in XMPP,
            the &quot;forward list&quot; on MSN, or the contact being &quot;added to
            the local user's buddy list&quot; in ICQ, for example.</p>
        </div></div>

        <p>If this attribute is not Yes, the local user cannot generally
          expect to receive presence from this contact. Their presence status
          as returned by <a href="Connection_Interface_Simple_Presence.html#Method:GetPresences" namespace="org.freedesktop.Telepathy.Connection.Interface.SimplePresence" title="Method org.freedesktop.Telepathy.Connection.Interface.SimplePresence.GetPresences">GetPresences</a>
          is likely to be (Unknown, &quot;unknown&quot;, &quot;&quot;), unless the local user
          can temporarily see their presence for some other reason (for
          instance, on XMPP, contacts seen in chatrooms will temporarily
          have available presence).</p>

        <p>If this attribute is Ask, this indicates that the local user has
          asked to receive the contact's presence at some time. It is
          implementation-dependent whether contacts' subscribe attributes
          can remain set to Ask, or are reset to No, when the connection
          disconnects.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>Some protocols store the fact that we wishes to see a contact's
            presence; on these protocols, this attribute can remain Ask
            indefinitely. On other protocols, only contacts who have been
            asked during the current session will ever have Ask status.</p>
        </div></div>

        <p>If this attribute is Removed_Remotely, this indicates that the
          local user has asked to receive the contact's presence at some time,
          but the remote contact has rejected that request, and a local
          user interface has not yet acknowledged this. It is
          implementation-dependent whether contacts' subscribe attributes can
          remain set to Removed_Remotely, or are reset to No, when the
          connection disconnects.</p>

        <p>After notifying the user, user interfaces MAY acknowledge a change
          to <tt>subscribe</tt>=Removed_Remotely by calling either
          <a href="Connection_Interface_Contact_List.html#Method:Unsubscribe" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.Unsubscribe">Unsubscribe</a> or
          <a href="Connection_Interface_Contact_List.html#Method:RemoveContacts" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.RemoveContacts">RemoveContacts</a>, which will set
          <tt>subscribe</tt> to No (and perhaps remove the contact). This
          allows user interfaces to detect that the user has been notified
          about the rejected request.</p>

        <p>This attribute's value will be Unknown or omitted until the
          <a href="Connection_Interface_Contact_List.html#Property:ContactListState" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactListState">ContactListState</a> has changed to
          Success.</p>
      </div>
    </div>
    
    <div class="inset contact-attribute">
     <a name="Contact-Attribute:publish"></a>
     <span class="permalink">(<a href="Connection_Interface_Contact_List.html#Contact-Attribute:publish">Permalink</a>)</span>
     <h2>
      org.freedesktop.Telepathy.Connection.Interface.ContactList/publish &mdash; u
      
       (<a href="Connection_Interface_Contact_List.html#Enum:Subscription_State" title="Enum Subscription_State">Subscription_State</a>)
      
     </h2>
     
     
     
     <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>If this attribute on a contact is Yes, the local user's presence
          is published to that contact, along with any other information that
          shares an access-control mechanism with presence (depending on
          protocol, server configuration and/or user configuration, this may
          include avatars, &quot;rich presence&quot; such as location, etc.).</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>This is subscription=&quot;to&quot; or subscription=&quot;both&quot; in XMPP,
            the &quot;reverse list&quot; on MSN, or the state of &quot;being added to
            the contact's buddy list&quot; in ICQ, for example.</p>
        </div></div>

        <p>If this attribute is not Yes, the
          local user's presence is not published to that contact; however,
          if it is Ask, the contact has requested that the local user's
          presence is made available to them.</p>

        <p>It is implementation-dependent whether contacts' <tt>publish</tt>
          attributes can remain set to Ask, or are reset to No, when the
          connection disconnects.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>Some protocols store the fact that a contact wishes to see our
            presence; on these protocols, this attribute can remain Ask
            indefinitely. On other protocols, only contacts who have asked
            during the current session will ever have Ask status.</p>
        </div></div>

        <p>If this attribute is Removed_Remotely, this indicates that the
          remote contact has asked to receive the user's presence at some time,
          but has then cancelled that request before a response was given by
          the local user. User interfaces MAY reset <tt>publish</tt> from
          Removed_Remotely to No, by calling either
          <a href="Connection_Interface_Contact_List.html#Method:Unpublish" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.Unpublish">Unpublish</a> or
          <a href="Connection_Interface_Contact_List.html#Method:RemoveContacts" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.RemoveContacts">RemoveContacts</a>.</p>

        <p>If multiple factors affect whether a contact can receive the local
          user's presence, this attribute SHOULD reflect the overall
          result. For instance, an XMPP contact with subscription=&quot;to&quot; or
          subscription=&quot;both&quot;, but who has been blocked via
          <a href="http://xmpp.org/extensions/xep-0016.html">XEP-0016 Privacy
            Lists</a>, SHOULD have publish=No.</p>

        <p>This attribute's value will be Unknown or omitted until the
          <a href="Connection_Interface_Contact_List.html#Property:ContactListState" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactListState">ContactListState</a> has changed to
          Success.</p>
      </div>
    </div>
    
    <div class="inset contact-attribute">
     <a name="Contact-Attribute:publish-request"></a>
     <span class="permalink">(<a href="Connection_Interface_Contact_List.html#Contact-Attribute:publish-request">Permalink</a>)</span>
     <h2>
      org.freedesktop.Telepathy.Connection.Interface.ContactList/publish-request &mdash; s
      
     </h2>
     
     
     
     <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>If the <a href="Connection_Interface_Contact_List.html#Contact-Attribute:publish" title="Contact Attribute org.freedesktop.Telepathy.Connection.Interface.ContactList/publish">publish</a> attribute is Ask, an
          optional message that was sent by the contact asking to receive the
          local user's presence; omitted if none was given.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>If the contact asking to receive our presence is also using
            Telepathy, this is the message they supplied as the Message
            argument to <a href="Connection_Interface_Contact_List.html#Method:RequestSubscription" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.RequestSubscription">RequestSubscription</a>.</p>
        </div></div>

        <p>Otherwise, this SHOULD be omitted.</p>

        <p>This attribute will also be omitted until the
          <a href="Connection_Interface_Contact_List.html#Property:ContactListState" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactListState">ContactListState</a> has changed to
          Success.</p>
      </div>
    </div>
    
   </div>
   

   

   
   <div class="outset types type">
    <a name="types"></a>
    <h1>Types</h1>
    
     <div class="inset type">
      <a name="Enum:Contact_List_State"></a>
      <span class="permalink">Enum (<a href="Connection_Interface_Contact_List.html#Enum:Contact_List_State">Permalink</a>)</span>
      <h2>
       Contact_List_State &mdash; u
      </h2>

      
      
      
      <div class="docstring">
        The progress made in retrieving the contact list.
      </div>
      <ul>
<li>None (0)</li>
<div class="docstring">The connection has not started to retrieve the contact
          list. If <a href="Connection_Interface_Contact_List.html#Method:GetContactListAttributes" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.GetContactListAttributes">GetContactListAttributes</a> is
          called in this state, it will raise NotYet.</div><li>Waiting (1)</li>
<div class="docstring">The connection has started to retrieve the contact
          list, but has not yet succeeded or failed.
          If <a href="Connection_Interface_Contact_List.html#Method:GetContactListAttributes" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.GetContactListAttributes">GetContactListAttributes</a> is called
          in this state, it will raise NotYet.</div><li>Failure (2)</li>
<div class="docstring">
          <p>The connection has tried and failed to retrieve the contact
            list. If <a href="Connection_Interface_Contact_List.html#Method:GetContactListAttributes" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.GetContactListAttributes">GetContactListAttributes</a>
            is called in this state, it will immediately raise an error
            indicating the reason for failure.</p>

          <p>The connection manager SHOULD try again to obtain the contact
            list, if appropriate for the protocol. If it succeeds later,
            the <a href="Connection_Interface_Contact_List.html#Property:ContactListState" title="Property org.freedesktop.Telepathy.Connection.Interface.ContactList.ContactListState">ContactListState</a> MUST advance
            to Success.</p>
        </div><li>Success (3)</li>
<div class="docstring">The connection has successfully retrieved the contact
          list. If <a href="Connection_Interface_Contact_List.html#Method:GetContactListAttributes" title="Method org.freedesktop.Telepathy.Connection.Interface.ContactList.GetContactListAttributes">GetContactListAttributes</a>
          is called in this state, it will return successfully.</div></ul>

     </div>
    
     <div class="inset type">
      <a name="Enum:Subscription_State"></a>
      <span class="permalink">Enum (<a href="Connection_Interface_Contact_List.html#Enum:Subscription_State">Permalink</a>)</span>
      <h2>
       Subscription_State &mdash; u
      </h2>

      
      
      
      <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>An enumeration indicating whether presence subscription is denied,
          denied but pending permission, or allowed. The exact semantics
          vary according to where this type is used: see the
          <a href="Connection_Interface_Contact_List.html#Contact-Attribute:subscribe" title="Contact Attribute org.freedesktop.Telepathy.Connection.Interface.ContactList/subscribe">subscribe</a> and
          <a href="Connection_Interface_Contact_List.html#Contact-Attribute:publish" title="Contact Attribute org.freedesktop.Telepathy.Connection.Interface.ContactList/publish">publish</a> contact attributes for
          details.</p>
      </div>
      <ul>
<li>Unknown (0)</li>
<div class="docstring">The presence subscription state is
          unknown.</div><li>No (1)</li>
<div class="docstring">Presence information cannot be seen, and either the
          subscription state Removed_Remotely does not apply, or it is
          not known whether that state applies.
        </div><li>Removed_Remotely (2)</li>
<div class="docstring">Presence information cannot be seen because the
          remote contact took action: either the local user's request to
          see the remote contact's presence was denied, or the remote
          contact requested to see the local user's presence but then
          cancelled their request.</div><li>Ask (3)</li>
<div class="docstring">Presence information cannot be seen. Permission
          to see presence information has been requested, and the request
          has not yet been declined or accepted.</div><li>Yes (4)</li>
<div class="docstring">Presence information can be seen.</div></ul>

     </div>
    
     <div class="inset type">
      <a name="Enum:Contact_Metadata_Storage_Type"></a>
      <span class="permalink">Enum (<a href="Connection_Interface_Contact_List.html#Enum:Contact_Metadata_Storage_Type">Permalink</a>)</span>
      <h2>
       Contact_Metadata_Storage_Type &mdash; u
      </h2>

      
      
      
      <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>Values of this enumeration indicate the extent to which metadata
          such as aliases and group memberships can be stored for the contacts
          on a particular connection.</p>

        <p>On some protocols, certain metadata (for instance, contact aliases)
          can only be stored for contacts on the contact list, or contacts
          with a particular contact list state.</p>

        <p>To make it easier to deal with such protocols, if clients set
          metadata on a contact who is not in the required state, the
          Connection MUST cache the metadata for the duration of the session.
          If clients request the attributes of that contact after the
          appropriate &quot;set&quot; method has returned successfully, the Connection
          MUST return the new (cached) value.</p>

        <p>If the contact is later placed in the required state to store
          metadata (for instance, if subscription to the contact's presence
          is requested, on a protocol like MSN where the alias has storage type
          Subscribed_Or_Pending), the connection MUST store the cached
          metadata at that time.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>If the Connection didn't cache changes in this way, a client
            intending to change the alias on MSN would have to wait until
            the server acknowledged the subscription request; in the meantime,
            other clients would still display the old alias.</p>
        </div></div>

        <p>The only exception to that general rule is that if the Connection
          cannot store particular metadata at all (i.e. the
          storage type is None), it MUST reject attempts to set it.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>If the implementation knows that metadata can't be stored at
            all, it's useful to report that, which can be done
            synchronously. In general, user interfaces should detect
            storage type None and not display editing controls at all.</p>
        </div></div>
      </div>
      <ul>
<li>None (0)</li>
<div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          <p>This connection cannot store this type of metadata at all, and
            attempting to do so will fail with NotImplemented.</p>

          <div class="rationale"><h5>Rationale:</h5><div>
            <p>Link-local XMPP can't store aliases or group memberships at
              all, and subscription and presence states are implicit (all
              contacts on the local network have subscribe = publish = Yes
              and no other contacts exist).</p>

            <p>As of April 2010, the XMPP server for Facebook Chat provides a
              read-only view of the user's Facebook contacts, so it could also
              usefully have this storage type.</p>
          </div></div>
        </div><li>Subscribed_Or_Pending (1)</li>
<div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          <p>This type of metadata can only be stored permanently for contacts
            whose subscribe attribute is Ask or Yes.</p>

          <div class="rationale"><h5>Rationale:</h5><div>
            <p>Contact aliases and groups on MSN have this behaviour.</p>
          </div></div>
        </div><li>Subscribed (2)</li>
<div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          <p>This type of metadata can only be stored permanently for contacts
            whose subscribe attribute is Yes.</p>

          <div class="rationale"><h5>Rationale:</h5><div>
            <p>No service with this behaviour is currently known, but it's a
              stricter form of Subscribed_Or_Pending.</p>
          </div></div>
        </div><li>Anyone (3)</li>
<div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
          <p>The user can set this metadata for any valid contact identifier,
            whether or not they have any presence subscription relationship
            to it, and it will be stored on their contact list.</p>

          <div class="rationale"><h5>Rationale:</h5><div>
            <p>Contact aliases and groups on XMPP have this behaviour; it
              is possible to put a contact in a group, or assign an alias
              to them, without requesting that presence be shared.</p>
          </div></div>
        </div></ul>

     </div>
    
     <div class="inset type">
      <a name="Mapping:Contact_Subscription_Map"></a>
      <span class="permalink">Mapping (<a href="Connection_Interface_Contact_List.html#Mapping:Contact_Subscription_Map">Permalink</a>)</span>
      <h2>
       Contact_Subscription_Map &mdash; a{u(uus)}
      </h2>

      
      
      
      <div class="docstring">
        A map from contacts to their subscribe, publish and publish-request
        attributes.
      </div>
      <ul>
<li>Contact &mdash; u (<a href="Connection.html#Simple-Type:Contact_Handle" title="Simple Type Contact_Handle">Contact_Handle</a>)</li>
<div class="docstring">
          The contact's handle.
        </div><li>States &mdash; (uus) (<a href="Connection_Interface_Contact_List.html#Struct:Contact_Subscriptions" title="Struct Contact_Subscriptions">Contact_Subscriptions</a>)</li>
<div class="docstring">
          The contact's subscribe, publish and publish-request attributes.
        </div></ul>

     </div>
    
     <div class="inset type">
      <a name="Struct:Contact_Subscriptions"></a>
      <span class="permalink">Struct (<a href="Connection_Interface_Contact_List.html#Struct:Contact_Subscriptions">Permalink</a>)</span>
      <h2>
       Contact_Subscriptions &mdash; (uus)
      </h2>

      
      
      
      <div class="docstring">
        A single contact's subscribe, publish and publish-request attributes.
      </div>
      <ul>
<li>Subscribe &mdash; u (<a href="Connection_Interface_Contact_List.html#Enum:Subscription_State" title="Enum Subscription_State">Subscription_State</a>)</li>
<div class="docstring">
          The new value of the contact's &quot;subscribe&quot; attribute.
        </div><li>Publish &mdash; u (<a href="Connection_Interface_Contact_List.html#Enum:Subscription_State" title="Enum Subscription_State">Subscription_State</a>)</li>
<div class="docstring">
          The new value of the contact's &quot;publish&quot; attribute.
        </div><li>Publish_Request &mdash; s</li>
<div class="docstring">
          The new value of the contact's &quot;publish-request&quot; attribute,
          or the empty string if that attribute would be omitted.
        </div></ul>

     </div>
    
   </div>
   

   </div>

 </body>
</html>