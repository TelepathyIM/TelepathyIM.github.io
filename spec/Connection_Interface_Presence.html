<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd" "">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
 <head>
  <title>Conn.I.Presence &mdash; Telepathy D-Bus Interface Specification</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="style.css" type="text/css"/>
  <link rel="shortcut icon" type="image/png" media="all" href="favicon.png" />
  <script src="jquery.min.js"></script>
  <script src="magic.js"></script>
 </head>
 <body>
  <div class="header">
  <h1>Interface <abbr title='org.freedesktop.Telepathy.Connection.Interface.Presence'>Connection.Interface.Presence</abbr></h1>
   <a href="index.html">Interface Index</a>
   (<a href="interfaces.html">Compact</a>)
   | <a href="#summary">Summary</a>
   
    | <a href="#description">Description</a> 
    | <a href="#methods">Methods</a> 
    | <a href="#signals">Signals</a> 
   
   
   
    | <a href="#types">Types</a> 
  </div>
  <div class="main">

    
    <div class="summary">
     <a name="summary"></a>
     
     
     <h3>Methods</h3>
     <table class="summary">
      
       
        <tr>
       
       <td><a href="Connection_Interface_Presence.html#Method:AddStatus">AddStatus</a></td>
       <td>(s: Status, a{sv}: Parameters)</td>
       <td>&#8594;</td>
       <td>nothing</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Presence.html#Method:ClearStatus">ClearStatus</a></td>
       <td>()</td>
       <td>&#8594;</td>
       <td>nothing</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Presence.html#Method:GetPresence">GetPresence</a></td>
       <td>(au: Contacts)</td>
       <td>&#8594;</td>
       <td>a{u(ua{sa{sv}})}: Presence</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Presence.html#Method:GetStatuses">GetStatuses</a></td>
       <td>()</td>
       <td>&#8594;</td>
       <td>a{s(ubba{ss})}: Available_Statuses</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Presence.html#Method:RemoveStatus">RemoveStatus</a></td>
       <td>(s: Status)</td>
       <td>&#8594;</td>
       <td>nothing</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Presence.html#Method:RequestPresence">RequestPresence</a></td>
       <td>(au: Contacts)</td>
       <td>&#8594;</td>
       <td>nothing</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Presence.html#Method:SetLastActivityTime">SetLastActivityTime</a></td>
       <td>(u: Time)</td>
       <td>&#8594;</td>
       <td>nothing</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Presence.html#Method:SetStatus">SetStatus</a></td>
       <td>(a{sa{sv}}: Statuses)</td>
       <td>&#8594;</td>
       <td>nothing</td>
       <td>
        
       </td>
      </tr>
      
     </table>
     

     
     <h3>Signals</h3>
     <table class="summary">
      
       
        <tr>
       
       <td><a href="Connection_Interface_Presence.html#Signal:PresenceUpdate">PresenceUpdate</a></td>
       <td>(a{u(ua{sa{sv}})}: Presence)</td>
       <td>
        
       </td>
      </tr>
      
     </table>
    

     

     

     

     
     <h3>Types</h3>
     <table class="summary">
      
       
        <tr>
       
       <td><a href="Connection_Interface_Presence.html#Mapping:Multiple_Status_Map">Multiple_Status_Map</a></td>
       <td>Mapping</td>
       <td>a{sa{sv}}</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Presence.html#Mapping:Contact_Presences">Contact_Presences</a></td>
       <td>Mapping</td>
       <td>a{u(ua{sa{sv}})}</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Presence.html#Mapping:Status_Spec_Map">Status_Spec_Map</a></td>
       <td>Mapping</td>
       <td>a{s(ubba{ss})}</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Presence.html#Struct:Last_Activity_And_Statuses">Last_Activity_And_Statuses</a></td>
       <td>Struct</td>
       <td>(ua{sa{sv}})</td>
       <td>
        
       </td>
      </tr>
      
       
        <tr>
       
       <td><a href="Connection_Interface_Presence.html#Struct:Status_Spec">Status_Spec</a></td>
       <td>Struct</td>
       <td>(ubba{ss})</td>
       <td>
        
       </td>
      </tr>
      
     </table>
    
   </div>
   

   
   
   <div class="annotation changed"><span class="version">Changed in 0.17.23. </span>Connection managers implementing
      Presence MUST implement SimplePresence too.</div>
   <div class="annotation deprecated"><span class="version">Deprecated since 0.17.21. </span>Client implementations
      SHOULD use <a href="Connection_Interface_Simple_Presence.html" namespace="org.freedesktop.Telepathy.Connection.Interface" title="Interface org.freedesktop.Telepathy.Connection.Interface.SimplePresence">SimplePresence</a>
      instead.</div>

   
   <div class="requires">
    Objects implementing this interface must also implement:
    <ul>
    
    
     <li><a href="Connection.html" title="Interface org.freedesktop.Telepathy.Connection">org.freedesktop.Telepathy.Connection</a></li>
    
     <li><a href="Connection_Interface_Simple_Presence.html" title="Interface org.freedesktop.Telepathy.Connection.Interface.SimplePresence">org.freedesktop.Telepathy.Connection.Interface.SimplePresence</a></li>
    
    </ul>
   </div>
   

   
    <a name="description"></a>
    <h3>Description</h3>
    <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">

      <p>This interface is for services which have a concept of presence which
        can be published for yourself and monitored on your contacts.
        Telepathy's definition of presence is based on that used by
        <a href="http://www.galago-project.org/">the Galago project</a>.</p>

    <p>Presence on an individual (yourself or one of your contacts) is modelled as
    a last activity time along with a set of zero or more statuses, each of
    which may have arbitrary key/value parameters. Valid statuses are defined
    per connection, and a list of them can be obtained with the
    <a href="Connection_Interface_Presence.html#Method:GetStatuses" title="Method org.freedesktop.Telepathy.Connection.Interface.Presence.GetStatuses">GetStatuses</a> method.</p>

    <p>(The SimplePresence interface which replaces this one restricts
      presences to one status per contact, with an optional message, which is
      in practice all that was implemented on this interface.)</p>

    <p>Each status has an arbitrary string identifier which should have an agreed
    meaning between the connection manager and any client which is expected to
    make use of it. The well-known values defined by the <a href="Connection_Interface_Simple_Presence.html" namespace="org.freedesktop.Telepathy.Connection.Interface" title="Interface org.freedesktop.Telepathy.Connection.Interface.SimplePresence">SimplePresence</a>
      interface SHOULD be used where possible</p>

    <p>As well as these well-known status identifiers, every status also has a
    numerical type value chosen from
    <a href="Connection_Interface_Simple_Presence.html#Enum:Connection_Presence_Type">Connection_Presence_Type</a> which can be used by the client
    to classify even unknown statuses into different fundamental types.</p>

    <p>These numerical types exist so that even if a client does not understand
    the string identifier being used, and hence cannot present the presence to
    the user to set on themselves, it may display an approximation of the
    presence if it is set on a contact.</p>

    <p>The dictionary of variant types allows the connection manager to exchange
    further protocol-specific information with the client. It is recommended
    that the string (s) argument 'message' be interpreted as an optional
    message which can be associated with a presence status.</p>

    <p>If the connection has a 'subscribe' contact list,
    <a href="Connection_Interface_Presence.html#Signal:PresenceUpdate" title="Signal org.freedesktop.Telepathy.Connection.Interface.Presence.PresenceUpdate">PresenceUpdate</a> signals should be emitted to
    indicate changes of contacts on this list, and should also be emitted for
    changes in your own presence. Depending on the protocol, the signal may
    also be emitted for others such as people with whom you are communicating,
    and any user interface should be updated accordingly.</p>

    <p>On some protocols, <a href="Connection_Interface_Presence.html#Method:RequestPresence" title="Method org.freedesktop.Telepathy.Connection.Interface.Presence.RequestPresence">RequestPresence</a> may
    only succeed on contacts on your 'subscribe' list, and other contacts will
    cause a PermissionDenied error.  On protocols where there is no 'subscribe'
    list, and RequestPresence succeeds, a client may poll the server
    intermittently to update any display of presence information.</p>
    </div>
   

   

   
   <div class="outset methods method">
    <a name="methods"></a>
    <h1>Methods</h1>
    
    <div class="inset method">
     <a name="Method:AddStatus"></a>
     <span class="permalink">(<a href="Connection_Interface_Presence.html#Method:AddStatus">Permalink</a>)</span>
     <h2>AddStatus (s: Status, a{sv}: Parameters) &#8594; nothing</h2>

     
     
     

     

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
        Status &mdash; s
        
       </li>
       
       
       
       <div class="docstring">
          The string identifier of the desired status
        </div>
      
       <li>
        Parameters &mdash; a{sv}
        
          (<a href="generic-types.html#Mapping:String_Variant_Map" title="Mapping String_Variant_Map">String_Variant_Map</a>)
        
       </li>
       
       
       
       <div class="docstring">
          A dictionary of optional parameter names mapped to their variant-boxed values
        </div>
      
      </ul>
     </div>
     

     

     <div class="docstring">
        Request that a single presence status is published for the user, along
        with any desired parameters. Changes will be indicated by
        <a href="Connection_Interface_Presence.html#Signal:PresenceUpdate" title="Signal org.freedesktop.Telepathy.Connection.Interface.Presence.PresenceUpdate">PresenceUpdate</a> signals being emitted.
      </div>

     
     <hr/>
     <div class="indent">
      <h3>Possible Errors</h3>
      <ul>
      
       <li><a href="errors.html#Error:Disconnected" title="Error org.freedesktop.Telepathy.Error.Disconnected">Disconnected</a></li>
       
       
       
       <div class="docstring">
      The connection is not currently connected and cannot be used.
      This error may also be raised when operations are performed on a
      Connection for which
      <a href="Connection.html#Signal:StatusChanged" namespace="org.freedesktop.Telepathy.Connection" title="Signal org.freedesktop.Telepathy.Connection.StatusChanged">StatusChanged</a>
      has signalled status Disconnected for reason None.

      <div class="rationale"><h5>Rationale:</h5><div>
        The second usage corresponds to None in the
        <a href="Connection.html#Enum:Connection_Status_Reason">Connection_Status_Reason</a> enum; if a better reason
        is available, the corresponding error should be used instead.
      </div></div>
    </div>
      
       <li><a href="errors.html#Error:Network Error" title="Error org.freedesktop.Telepathy.Error.NetworkError">Network Error</a></li>
       
       
       
       <div class="docstring">
    Raised when there is an error reading from or writing to the network.
    </div>
      
       <li><a href="errors.html#Error:Invalid Argument" title="Error org.freedesktop.Telepathy.Error.InvalidArgument">Invalid Argument</a></li>
       
       
       
       <div class="docstring">
    Raised when one of the provided arguments is invalid.
    </div>
      
       <li><a href="errors.html#Error:Not Available" title="Error org.freedesktop.Telepathy.Error.NotAvailable">Not Available</a></li>
       
       
       
       <div class="docstring">
    Raised when the requested functionality is temporarily unavailable.
    </div>
      
       <li><a href="errors.html#Error:Permission Denied" title="Error org.freedesktop.Telepathy.Error.PermissionDenied">Permission Denied</a></li>
       
       
       
       <div class="docstring">
    The user is not permitted to perform the requested operation.
    </div>
      
      </ul>
     </div>
     
    </div>
    
    <div class="inset method">
     <a name="Method:ClearStatus"></a>
     <span class="permalink">(<a href="Connection_Interface_Presence.html#Method:ClearStatus">Permalink</a>)</span>
     <h2>ClearStatus () &#8594; nothing</h2>

     
     
     

     

     

     

     <div class="docstring">
        Request that all of a user's presence statuses be removed. Be aware
        that this request may simply result in the statuses being replaced by a
        default available status. Changes will be indicated by
        <a href="Connection_Interface_Presence.html#Signal:PresenceUpdate" title="Signal org.freedesktop.Telepathy.Connection.Interface.Presence.PresenceUpdate">PresenceUpdate</a> signals being emitted.
      </div>

     
     <hr/>
     <div class="indent">
      <h3>Possible Errors</h3>
      <ul>
      
       <li><a href="errors.html#Error:Disconnected" title="Error org.freedesktop.Telepathy.Error.Disconnected">Disconnected</a></li>
       
       
       
       <div class="docstring">
      The connection is not currently connected and cannot be used.
      This error may also be raised when operations are performed on a
      Connection for which
      <a href="Connection.html#Signal:StatusChanged" namespace="org.freedesktop.Telepathy.Connection" title="Signal org.freedesktop.Telepathy.Connection.StatusChanged">StatusChanged</a>
      has signalled status Disconnected for reason None.

      <div class="rationale"><h5>Rationale:</h5><div>
        The second usage corresponds to None in the
        <a href="Connection.html#Enum:Connection_Status_Reason">Connection_Status_Reason</a> enum; if a better reason
        is available, the corresponding error should be used instead.
      </div></div>
    </div>
      
       <li><a href="errors.html#Error:Network Error" title="Error org.freedesktop.Telepathy.Error.NetworkError">Network Error</a></li>
       
       
       
       <div class="docstring">
    Raised when there is an error reading from or writing to the network.
    </div>
      
       <li><a href="errors.html#Error:Permission Denied" title="Error org.freedesktop.Telepathy.Error.PermissionDenied">Permission Denied</a></li>
       
       
       
       <div class="docstring">
    The user is not permitted to perform the requested operation.
    </div>
      
      </ul>
     </div>
     
    </div>
    
    <div class="inset method">
     <a name="Method:GetPresence"></a>
     <span class="permalink">(<a href="Connection_Interface_Presence.html#Method:GetPresence">Permalink</a>)</span>
     <h2>GetPresence (au: Contacts) &#8594; a{u(ua{sa{sv}})}: Presence</h2>

     
     
     

     

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
        Contacts &mdash; au
        
          (<a href="Connection.html#Simple-Type:Contact_Handle" title="Array of Simple Type Contact_Handle">Contact_Handle_List</a>)
        
       </li>
       
       
       
       <div class="docstring">
          An array of the contacts whose presence should be obtained
        </div>
      
      </ul>
     </div>
     

     
     <div class="indent">
      <h3>Returns</h3>
      <ul>
      
       <li>
        Presence &mdash; a{u(ua{sa{sv}})}
        
          (<a href="Connection_Interface_Presence.html#Mapping:Contact_Presences" title="Mapping Contact_Presences">Contact_Presences</a>)
        
       </li>
       
       
       
       <div class="docstring">
          Presence information in the same format as for the
          <a href="Connection_Interface_Presence.html#Signal:PresenceUpdate" title="Signal org.freedesktop.Telepathy.Connection.Interface.Presence.PresenceUpdate">PresenceUpdate</a> signal
        </div>
      
      </ul>
     </div>
     

     <div class="docstring">
        Get presence previously emitted by
        <a href="Connection_Interface_Presence.html#Signal:PresenceUpdate" title="Signal org.freedesktop.Telepathy.Connection.Interface.Presence.PresenceUpdate">PresenceUpdate</a> for the given contacts.
        Data is returned in the same structure as the PresenceUpdate signal.
        Using this method in favour of
        <a href="Connection_Interface_Presence.html#Method:RequestPresence" title="Method org.freedesktop.Telepathy.Connection.Interface.Presence.RequestPresence">RequestPresence</a> has the advantage that
        it will not wake up each client connected to the PresenceUpdate signal.
      </div>

     
     <hr/>
     <div class="indent">
      <h3>Possible Errors</h3>
      <ul>
      
       <li><a href="errors.html#Error:Disconnected" title="Error org.freedesktop.Telepathy.Error.Disconnected">Disconnected</a></li>
       
       
       
       <div class="docstring">
      The connection is not currently connected and cannot be used.
      This error may also be raised when operations are performed on a
      Connection for which
      <a href="Connection.html#Signal:StatusChanged" namespace="org.freedesktop.Telepathy.Connection" title="Signal org.freedesktop.Telepathy.Connection.StatusChanged">StatusChanged</a>
      has signalled status Disconnected for reason None.

      <div class="rationale"><h5>Rationale:</h5><div>
        The second usage corresponds to None in the
        <a href="Connection.html#Enum:Connection_Status_Reason">Connection_Status_Reason</a> enum; if a better reason
        is available, the corresponding error should be used instead.
      </div></div>
    </div>
      
       <li><a href="errors.html#Error:Invalid Handle" title="Error org.freedesktop.Telepathy.Error.InvalidHandle">Invalid Handle</a></li>
       
       
       
       <div class="docstring">
    The handle specified is unknown on this channel or connection.
    </div>
      
       <li><a href="errors.html#Error:Not Available" title="Error org.freedesktop.Telepathy.Error.NotAvailable">Not Available</a></li>
       
       
       
       <div class="docstring">
    Raised when the requested functionality is temporarily unavailable.
    </div>
      
      </ul>
     </div>
     
    </div>
    
    <div class="inset method">
     <a name="Method:GetStatuses"></a>
     <span class="permalink">(<a href="Connection_Interface_Presence.html#Method:GetStatuses">Permalink</a>)</span>
     <h2>GetStatuses () &#8594; a{s(ubba{ss})}: Available_Statuses</h2>

     
     
     

     

     

     
     <div class="indent">
      <h3>Returns</h3>
      <ul>
      
       <li>
        Available_Statuses &mdash; a{s(ubba{ss})}
        
          (<a href="Connection_Interface_Presence.html#Mapping:Status_Spec_Map" title="Mapping Status_Spec_Map">Status_Spec_Map</a>)
        
       </li>
       
       
       
       <div class="docstring">
        A dictionary of string identifiers mapped to a struct for each status, containing:
        <ul>
          <li>a type value from one of the values above</li>
          <li>a boolean to indicate if this status may be set on yourself</li>
          <li>a boolean to indicate if this is an exclusive status which you
            may not set alongside any other</li>
          <li>a dictionary of valid optional string argument names mapped to
            their types</li>
        </ul>
        </div>
      
      </ul>
     </div>
     

     <div class="docstring">
        Get a dictionary of the valid presence statuses for this connection.
        This is only available when online because only some statuses will
        be available on some servers.
      </div>

     
     <hr/>
     <div class="indent">
      <h3>Possible Errors</h3>
      <ul>
      
       <li><a href="errors.html#Error:Disconnected" title="Error org.freedesktop.Telepathy.Error.Disconnected">Disconnected</a></li>
       
       
       
       <div class="docstring">
      The connection is not currently connected and cannot be used.
      This error may also be raised when operations are performed on a
      Connection for which
      <a href="Connection.html#Signal:StatusChanged" namespace="org.freedesktop.Telepathy.Connection" title="Signal org.freedesktop.Telepathy.Connection.StatusChanged">StatusChanged</a>
      has signalled status Disconnected for reason None.

      <div class="rationale"><h5>Rationale:</h5><div>
        The second usage corresponds to None in the
        <a href="Connection.html#Enum:Connection_Status_Reason">Connection_Status_Reason</a> enum; if a better reason
        is available, the corresponding error should be used instead.
      </div></div>
    </div>
      
       <li><a href="errors.html#Error:Network Error" title="Error org.freedesktop.Telepathy.Error.NetworkError">Network Error</a></li>
       
       
       
       <div class="docstring">
    Raised when there is an error reading from or writing to the network.
    </div>
      
      </ul>
     </div>
     
    </div>
    
    <div class="inset method">
     <a name="Method:RemoveStatus"></a>
     <span class="permalink">(<a href="Connection_Interface_Presence.html#Method:RemoveStatus">Permalink</a>)</span>
     <h2>RemoveStatus (s: Status) &#8594; nothing</h2>

     
     
     

     

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
        Status &mdash; s
        
       </li>
       
       
       
       <div class="docstring">
          The string identifier of the status not to publish anymore for the user
        </div>
      
      </ul>
     </div>
     

     

     <div class="docstring">
        Request that the given presence status is no longer published for the
        user. Changes will be indicated by
        <a href="Connection_Interface_Presence.html#Signal:PresenceUpdate" title="Signal org.freedesktop.Telepathy.Connection.Interface.Presence.PresenceUpdate">PresenceUpdate</a> signals being emitted. As
        with <a href="Connection_Interface_Presence.html#Method:ClearStatus" title="Method org.freedesktop.Telepathy.Connection.Interface.Presence.ClearStatus">ClearStatus</a>, removing a status may
        actually result in it being replaced by a default available status.
      </div>

     
     <hr/>
     <div class="indent">
      <h3>Possible Errors</h3>
      <ul>
      
       <li><a href="errors.html#Error:Disconnected" title="Error org.freedesktop.Telepathy.Error.Disconnected">Disconnected</a></li>
       
       
       
       <div class="docstring">
      The connection is not currently connected and cannot be used.
      This error may also be raised when operations are performed on a
      Connection for which
      <a href="Connection.html#Signal:StatusChanged" namespace="org.freedesktop.Telepathy.Connection" title="Signal org.freedesktop.Telepathy.Connection.StatusChanged">StatusChanged</a>
      has signalled status Disconnected for reason None.

      <div class="rationale"><h5>Rationale:</h5><div>
        The second usage corresponds to None in the
        <a href="Connection.html#Enum:Connection_Status_Reason">Connection_Status_Reason</a> enum; if a better reason
        is available, the corresponding error should be used instead.
      </div></div>
    </div>
      
       <li><a href="errors.html#Error:Network Error" title="Error org.freedesktop.Telepathy.Error.NetworkError">Network Error</a></li>
       
       
       
       <div class="docstring">
    Raised when there is an error reading from or writing to the network.
    </div>
      
       <li><a href="errors.html#Error:Permission Denied" title="Error org.freedesktop.Telepathy.Error.PermissionDenied">Permission Denied</a></li>
       
       
       
       <div class="docstring">
    The user is not permitted to perform the requested operation.
    </div>
      
       <li><a href="errors.html#Error:Invalid Argument" title="Error org.freedesktop.Telepathy.Error.InvalidArgument">Invalid Argument</a></li>
       
       
       
       <div class="docstring">The status requested is not currently set</div>
      
      </ul>
     </div>
     
    </div>
    
    <div class="inset method">
     <a name="Method:RequestPresence"></a>
     <span class="permalink">(<a href="Connection_Interface_Presence.html#Method:RequestPresence">Permalink</a>)</span>
     <h2>RequestPresence (au: Contacts) &#8594; nothing</h2>

     
     
     

     

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
        Contacts &mdash; au
        
          (<a href="Connection.html#Simple-Type:Contact_Handle" title="Array of Simple Type Contact_Handle">Contact_Handle_List</a>)
        
       </li>
       
       
       
       <div class="docstring">
          An array of the contacts whose presence should be obtained
        </div>
      
      </ul>
     </div>
     

     

     <div class="docstring">
        Request the presence for contacts on this connection. A <a href="Connection_Interface_Presence.html#Signal:PresenceUpdate" title="Signal org.freedesktop.Telepathy.Connection.Interface.Presence.PresenceUpdate">PresenceUpdate</a>
        signal will be emitted when they are received. This is not the same as
        subscribing to the presence of a contact, which must be done using the
        'subscription' <a href="Channel_Type_Contact_List.html" namespace="org.freedesktop.Telepathy.Channel.Type" title="Interface org.freedesktop.Telepathy.Channel.Type.ContactList">ContactList</a>,
        and on some protocols presence information may not be available unless
        a subscription exists.
      </div>

     
     <hr/>
     <div class="indent">
      <h3>Possible Errors</h3>
      <ul>
      
       <li><a href="errors.html#Error:Disconnected" title="Error org.freedesktop.Telepathy.Error.Disconnected">Disconnected</a></li>
       
       
       
       <div class="docstring">
      The connection is not currently connected and cannot be used.
      This error may also be raised when operations are performed on a
      Connection for which
      <a href="Connection.html#Signal:StatusChanged" namespace="org.freedesktop.Telepathy.Connection" title="Signal org.freedesktop.Telepathy.Connection.StatusChanged">StatusChanged</a>
      has signalled status Disconnected for reason None.

      <div class="rationale"><h5>Rationale:</h5><div>
        The second usage corresponds to None in the
        <a href="Connection.html#Enum:Connection_Status_Reason">Connection_Status_Reason</a> enum; if a better reason
        is available, the corresponding error should be used instead.
      </div></div>
    </div>
      
       <li><a href="errors.html#Error:Network Error" title="Error org.freedesktop.Telepathy.Error.NetworkError">Network Error</a></li>
       
       
       
       <div class="docstring">
    Raised when there is an error reading from or writing to the network.
    </div>
      
       <li><a href="errors.html#Error:Invalid Handle" title="Error org.freedesktop.Telepathy.Error.InvalidHandle">Invalid Handle</a></li>
       
       
       
       <div class="docstring">
    The handle specified is unknown on this channel or connection.
    </div>
      
       <li><a href="errors.html#Error:Permission Denied" title="Error org.freedesktop.Telepathy.Error.PermissionDenied">Permission Denied</a></li>
       
       
       
       <div class="docstring">
    The user is not permitted to perform the requested operation.
    </div>
      
       <li><a href="errors.html#Error:Not Available" title="Error org.freedesktop.Telepathy.Error.NotAvailable">Not Available</a></li>
       
       
       
       <div class="docstring">
            The presence of the requested contacts is not reported to this connection
          </div>
      
      </ul>
     </div>
     
    </div>
    
    <div class="inset method">
     <a name="Method:SetLastActivityTime"></a>
     <span class="permalink">(<a href="Connection_Interface_Presence.html#Method:SetLastActivityTime">Permalink</a>)</span>
     <h2>SetLastActivityTime (u: Time) &#8594; nothing</h2>

     
     
     

     

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
        Time &mdash; u
        
          (<a href="generic-types.html#Simple-Type:Unix_Timestamp" title="Simple Type Unix_Timestamp">Unix_Timestamp</a>)
        
       </li>
       
       
       
       <div class="docstring">
          A UNIX timestamp of the user's last activity time (in UTC)
        </div>
      
      </ul>
     </div>
     

     

     <div class="docstring">
        Request that the recorded last activity time for the user be updated on
        the server.
      </div>

     
     <hr/>
     <div class="indent">
      <h3>Possible Errors</h3>
      <ul>
      
       <li><a href="errors.html#Error:Disconnected" title="Error org.freedesktop.Telepathy.Error.Disconnected">Disconnected</a></li>
       
       
       
       <div class="docstring">
      The connection is not currently connected and cannot be used.
      This error may also be raised when operations are performed on a
      Connection for which
      <a href="Connection.html#Signal:StatusChanged" namespace="org.freedesktop.Telepathy.Connection" title="Signal org.freedesktop.Telepathy.Connection.StatusChanged">StatusChanged</a>
      has signalled status Disconnected for reason None.

      <div class="rationale"><h5>Rationale:</h5><div>
        The second usage corresponds to None in the
        <a href="Connection.html#Enum:Connection_Status_Reason">Connection_Status_Reason</a> enum; if a better reason
        is available, the corresponding error should be used instead.
      </div></div>
    </div>
      
       <li><a href="errors.html#Error:Network Error" title="Error org.freedesktop.Telepathy.Error.NetworkError">Network Error</a></li>
       
       
       
       <div class="docstring">
    Raised when there is an error reading from or writing to the network.
    </div>
      
       <li><a href="errors.html#Error:Not Implemented" title="Error org.freedesktop.Telepathy.Error.NotImplemented">Not Implemented</a></li>
       
       
       
       <div class="docstring">
            This protocol has no concept of idle time
          </div>
      
      </ul>
     </div>
     
    </div>
    
    <div class="inset method">
     <a name="Method:SetStatus"></a>
     <span class="permalink">(<a href="Connection_Interface_Presence.html#Method:SetStatus">Permalink</a>)</span>
     <h2>SetStatus (a{sa{sv}}: Statuses) &#8594; nothing</h2>

     
     
     

     

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
        Statuses &mdash; a{sa{sv}}
        
          (<a href="Connection_Interface_Presence.html#Mapping:Multiple_Status_Map" title="Mapping Multiple_Status_Map">Multiple_Status_Map</a>)
        
       </li>
       
       
       
       <div class="docstring">
          A dictionary mapping status identifiers to dictionaries, which
          map optional parameter names to their variant-boxed values
        </div>
      
      </ul>
     </div>
     

     

     <div class="docstring" xmlns="http://www.w3.org/1999/xhtml">
        <p>Request that the user's presence be changed to the given statuses
          and desired parameters. Changes will be reflected by
          <a href="Connection_Interface_Presence.html#Signal:PresenceUpdate" title="Signal org.freedesktop.Telepathy.Connection.Interface.Presence.PresenceUpdate">PresenceUpdate</a>
          signals being emitted.</p>

        <p>Statuses whose <a href="Connection_Interface_Simple_Presence.html#Enum:Connection_Presence_Type">Connection_Presence_Type</a>
          is Offline, Error or Unknown MUST NOT be passed to this
          function. Connection managers SHOULD reject these statuses.</p>

        <div class="rationale"><h5>Rationale:</h5><div>
          <p>The same rationale as for <a href="Connection_Interface_Simple_Presence.html#Method:SetPresence" namespace="org.freedesktop.Telepathy.Connection.Interface" title="Method org.freedesktop.Telepathy.Connection.Interface.SimplePresence.SetPresence">SimplePresence.SetPresence</a>
            applies.</p>
        </div></div>

        <p>On certain protocols, this method may be
          called on a newly-created connection which is still in the
          DISCONNECTED state, and will sign on with the requested status.
          If the requested status is not available after signing on,
          NotAvailable will be returned and the connection will remain
          offline, or if the protocol does not support signing on with
          a certain status, Disconnected will be returned.</p>
      </div>

     
     <hr/>
     <div class="indent">
      <h3>Possible Errors</h3>
      <ul>
      
       <li><a href="errors.html#Error:Disconnected" title="Error org.freedesktop.Telepathy.Error.Disconnected">Disconnected</a></li>
       
       
       
       <div class="docstring">
      The connection is not currently connected and cannot be used.
      This error may also be raised when operations are performed on a
      Connection for which
      <a href="Connection.html#Signal:StatusChanged" namespace="org.freedesktop.Telepathy.Connection" title="Signal org.freedesktop.Telepathy.Connection.StatusChanged">StatusChanged</a>
      has signalled status Disconnected for reason None.

      <div class="rationale"><h5>Rationale:</h5><div>
        The second usage corresponds to None in the
        <a href="Connection.html#Enum:Connection_Status_Reason">Connection_Status_Reason</a> enum; if a better reason
        is available, the corresponding error should be used instead.
      </div></div>
    </div>
      
       <li><a href="errors.html#Error:Network Error" title="Error org.freedesktop.Telepathy.Error.NetworkError">Network Error</a></li>
       
       
       
       <div class="docstring">
    Raised when there is an error reading from or writing to the network.
    </div>
      
       <li><a href="errors.html#Error:Not Available" title="Error org.freedesktop.Telepathy.Error.NotAvailable">Not Available</a></li>
       
       
       
       <div class="docstring">
    Raised when the requested functionality is temporarily unavailable.
    </div>
      
       <li><a href="errors.html#Error:Invalid Argument" title="Error org.freedesktop.Telepathy.Error.InvalidArgument">Invalid Argument</a></li>
       
       
       
       <div class="docstring">
    Raised when one of the provided arguments is invalid.
    </div>
      
       <li><a href="errors.html#Error:Permission Denied" title="Error org.freedesktop.Telepathy.Error.PermissionDenied">Permission Denied</a></li>
       
       
       
       <div class="docstring">
    The user is not permitted to perform the requested operation.
    </div>
      
      </ul>
     </div>
     
    </div>
    
   </div>
   

   
   <div class="outset signals signal">
    <a name="signals"></a>
    <h1>Signals</h1>
    
    <div class="inset signal">
     <a name="Signal:PresenceUpdate"></a>
     <span class="permalink">(<a href="Connection_Interface_Presence.html#Signal:PresenceUpdate">Permalink</a>)</span>
     <h2>PresenceUpdate (a{u(ua{sa{sv}})}: Presence)</h2>

     
     
     

     
     <div class="indent">
      <h3>Parameters</h3>
      <ul>
      
       <li>
       Presence &mdash; a{u(ua{sa{sv}})}
       
        (<a href="Connection_Interface_Presence.html#Mapping:Contact_Presences" title="Mapping Contact_Presences">Contact_Presences</a>)
       
       </li>
       
       
       
       <div class="docstring">
        A dictionary of contact handles mapped to a struct containing
        a UNIX timestamp of the last activity time (in UTC), and
        a dictionary mapping the contact's current status identifiers to
          a dictionary of optional parameter names mapped to their
          variant-boxed values
        </div>
      
      </ul>
     </div>
     

     <div class="docstring">
        This signal should be emitted when your own presence has been changed,
        or the presence of the member of any of the connection's channels has
        been changed, or when the presence requested by
        <a href="Connection_Interface_Presence.html#Method:RequestPresence" title="Method org.freedesktop.Telepathy.Connection.Interface.Presence.RequestPresence">RequestPresence</a> is available.
      </div>
    </div>
    
   </div>
   

   

   

   

   
   <div class="outset types type">
    <a name="types"></a>
    <h1>Types</h1>
    
     <div class="inset type">
      <a name="Mapping:Multiple_Status_Map"></a>
      <span class="permalink">Mapping (<a href="Connection_Interface_Presence.html#Mapping:Multiple_Status_Map">Permalink</a>)</span>
      <h2>
       Multiple_Status_Map &mdash; a{sa{sv}}
      </h2>

      
      
      
      <div class="docstring">Mapping used in
        <a href="Connection_Interface_Presence.html#Struct:Last_Activity_And_Statuses">Last_Activity_And_Statuses</a> and passed to
        <a href="Connection_Interface_Presence.html#Method:SetStatus" title="Method org.freedesktop.Telepathy.Connection.Interface.Presence.SetStatus">SetStatus</a>, representing a collection of
        statuses. Use of this mapping with more than one member is
        deprecated.</div>
      <ul>
<li>Status &mdash; s</li>
<li>Parameters &mdash; a{sv} (<a href="generic-types.html#Mapping:String_Variant_Map" title="Mapping String_Variant_Map">String_Variant_Map</a>)</li>
</ul>

     </div>
    
     <div class="inset type">
      <a name="Mapping:Contact_Presences"></a>
      <span class="permalink">Mapping (<a href="Connection_Interface_Presence.html#Mapping:Contact_Presences">Permalink</a>)</span>
      <h2>
       Contact_Presences &mdash; a{u(ua{sa{sv}})}
      </h2>

      
      
      
      <div class="docstring">Mapping returned by
        <a href="Connection_Interface_Presence.html#Method:GetPresence" title="Method org.freedesktop.Telepathy.Connection.Interface.Presence.GetPresence">GetPresence</a> and signalled by
        <a href="Connection_Interface_Presence.html#Signal:PresenceUpdate" title="Signal org.freedesktop.Telepathy.Connection.Interface.Presence.PresenceUpdate">PresenceUpdate</a>, where the keys are
        contacts and the values represent their presences.</div>
      <ul>
<li>Contact &mdash; u (<a href="Connection.html#Simple-Type:Contact_Handle" title="Simple Type Contact_Handle">Contact_Handle</a>)</li>
<li>Presence &mdash; (ua{sa{sv}}) (<a href="Connection_Interface_Presence.html#Struct:Last_Activity_And_Statuses" title="Struct Last_Activity_And_Statuses">Last_Activity_And_Statuses</a>)</li>
</ul>

     </div>
    
     <div class="inset type">
      <a name="Mapping:Status_Spec_Map"></a>
      <span class="permalink">Mapping (<a href="Connection_Interface_Presence.html#Mapping:Status_Spec_Map">Permalink</a>)</span>
      <h2>
       Status_Spec_Map &mdash; a{s(ubba{ss})}
      </h2>

      
      
      
      
      <ul>
<li>Identifier &mdash; s</li>
<li>Spec &mdash; (ubba{ss}) (<a href="Connection_Interface_Presence.html#Struct:Status_Spec" title="Struct Status_Spec">Status_Spec</a>)</li>
</ul>

     </div>
    
     <div class="inset type">
      <a name="Struct:Last_Activity_And_Statuses"></a>
      <span class="permalink">Struct (<a href="Connection_Interface_Presence.html#Struct:Last_Activity_And_Statuses">Permalink</a>)</span>
      <h2>
       Last_Activity_And_Statuses &mdash; (ua{sa{sv}})
      </h2>

      
      
      
      <div class="docstring">Structure representing a contact's presence, containing
        a last-activity time (deprecated) and a Multiple_Status_Map.
      </div>
      <ul>
<li>Last_Activity &mdash; u (<a href="generic-types.html#Simple-Type:Unix_Timestamp" title="Simple Type Unix_Timestamp">Unix_Timestamp</a>)</li>
<li>Statuses &mdash; a{sa{sv}} (<a href="Connection_Interface_Presence.html#Mapping:Multiple_Status_Map" title="Mapping Multiple_Status_Map">Multiple_Status_Map</a>)</li>
</ul>

     </div>
    
     <div class="inset type">
      <a name="Struct:Status_Spec"></a>
      <span class="permalink">Struct (<a href="Connection_Interface_Presence.html#Struct:Status_Spec">Permalink</a>)</span>
      <h2>
       Status_Spec &mdash; (ubba{ss})
      </h2>

      
      
      
      
      <ul>
<li>Type &mdash; u (<a href="Connection_Interface_Simple_Presence.html#Enum:Connection_Presence_Type" title="Enum Connection_Presence_Type">Connection_Presence_Type</a>)</li>
<li>May_Set_On_Self &mdash; b</li>
<li>Exclusive &mdash; b</li>
<li>Parameter_Types &mdash; a{ss} (<a href="generic-types.html#Mapping:String_String_Map" title="Mapping String_String_Map">String_String_Map</a>)</li>
</ul>

     </div>
    
   </div>
   

   </div>

 </body>
</html>